const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_app/immutable/chunks/leaflet-src.yfU63Ext.js","_app/immutable/chunks/VennDiagram.svelte_svelte_type_style_lang.DLV2xppN.js","_app/immutable/chunks/entry.DMV2mXbd.js","_app/immutable/chunks/scheduler.C9EcQ0XW.js","_app/immutable/chunks/index.BaFYQsWh.js","_app/immutable/chunks/preload-helper.sby0Q4ry.js","_app/immutable/chunks/index.rV6zwFgL.js","_app/immutable/assets/VennDiagram.Hmmox_0V.css"])))=>i.map(i=>d[i]);
var en=Object.defineProperty;var rt=l=>{throw TypeError(l)};var tn=(l,e,t)=>e in l?en(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var je=(l,e,t)=>tn(l,typeof e!="symbol"?e+"":e,t),st=(l,e,t)=>e.has(l)||rt("Cannot "+t);var E=(l,e,t)=>(st(l,e,"read from private field"),t?t.call(l):e.get(l)),K=(l,e,t)=>e.has(l)?rt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(l):e.set(l,t),Y=(l,e,t,n)=>(st(l,e,"write to private field"),n?n.call(l,t):e.set(l,t),t);import{s as ae,e as A,t as ie,a as j,d as N,r as O,u as le,f as k,c as z,i as v,j as M,k as S,q as Z,_ as Ke,X as oe,I as Le,S as ft,T as ut,B as Ie,L as nn,M as At,b as q,l as ye,A as de,N as We,n as Nt,p as Qe,O as ln,z as Zt,D as Ot,E as Ft,F as Vt,Q as on,m as qe,ad as Oe,ae as Te,af as Bt,h as an,o as rn}from"../chunks/scheduler.C9EcQ0XW.js";import{S as re,i as se,t as C,g as $,b as D,d as ee,c as U,a as R,m as H,e as G}from"../chunks/index.BaFYQsWh.js";import{v as sn,x as fn,y as ve,z as jt,A as un,B as ct,j as be,F as zt,S as cn,q as dn,G as hn,u as mn,o as gn,H as _n,J as Wt,K as qt,L as bn,Q as Je,s as kn,p as pn,a as dt,r as ht,C as yn}from"../chunks/VennDiagram.svelte_svelte_type_style_lang.DLV2xppN.js";import{w as Ce,a as ze,d as Ue}from"../chunks/entry.DMV2mXbd.js";import{h as Ze}from"../chunks/button.C7gGWbRa.js";import{D as vn,a as wn,Q as Jt}from"../chunks/QueryViewer.RxxmNZ1v.js";import{p as Ln}from"../chunks/stores.CgLPkCfT.js";import{h as Re,u as Ut}from"../chunks/await_block.BbeJ363K.js";import{g as Tn,e as En,p as Cn}from"../chunks/profile.COOguMbr.js";import{_ as Sn}from"../chunks/preload-helper.sby0Q4ry.js";const In={trailing:!0};function Pn(l,e=25,t={}){if(t={...In,...t},!Number.isFinite(e))throw new TypeError("Expected `wait` to be a finite number");let n,i,o=[],a,r;const s=(u,f)=>(a=Dn(l,u,f),a.finally(()=>{if(a=null,t.trailing&&r&&!i){const m=s(u,r);return r=null,m}}),a);return function(...u){return a?(t.trailing&&(r=u),a):new Promise(f=>{const m=!i&&t.leading;clearTimeout(i),i=setTimeout(()=>{i=null;const d=t.leading?n:s(this,u);for(const h of o)h(d);o=[]},e),m?(n=s(this,u),f(n)):o.push(f)})}}async function Dn(l,e,t){return await l.apply(e,t)}function Mn(l){l.Map.mergeOptions({smoothWheelZoom:!0,smoothSensitivity:1}),l.Map.SmoothWheelZoom=l.Handler.extend({addHooks:function(){l.DomEvent.on(this._map._container,"wheel",this._onWheelScroll,this)},removeHooks:function(){l.DomEvent.off(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){this._isWheeling||this._onWheelStart(e),this._onWheeling(e)},_onWheelStart:function(e){var t=this._map;this._isWheeling=!0,this._wheelMousePosition=t.mouseEventToContainerPoint(e),this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),this._wheelStartLatLng=t.containerPointToLatLng(this._wheelMousePosition),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),t._panAnim&&t._panAnim.stop(),this._goalZoom=t.getZoom(),this._prevCenter=t.getCenter(),this._prevZoom=t.getZoom(),this._zoomAnimationId=requestAnimationFrame(this._updateWheelZoom.bind(this))},_onWheeling:function(e){var t=this._map;this._goalZoom=this._goalZoom+l.DomEvent.getWheelDelta(e)*.003*t.options.smoothSensitivity,(this._goalZoom<t.getMinZoom()||this._goalZoom>t.getMaxZoom())&&(this._goalZoom=t._limitZoom(this._goalZoom)),this._wheelMousePosition=this._map.mouseEventToContainerPoint(e),clearTimeout(this._timeoutId),this._timeoutId=setTimeout(this._onWheelEnd.bind(this),200),l.DomEvent.preventDefault(e),l.DomEvent.stopPropagation(e)},_onWheelEnd:function(){this._isWheeling=!1,cancelAnimationFrame(this._zoomAnimationId),this._map._moveEnd(!0)},_updateWheelZoom:function(){var e=this._map;if(!(!e.getCenter().equals(this._prevCenter)||e.getZoom()!=this._prevZoom)){this._zoom=e.getZoom()+(this._goalZoom-e.getZoom())*.3,this._zoom=Math.floor(this._zoom*100)/100;var t=this._wheelMousePosition.subtract(this._centerPoint);t.x===0&&t.y===0||(e.options.smoothWheelZoom==="center"?this._center=this._startLatLng:this._center=e.unproject(e.project(this._wheelStartLatLng,this._zoom).subtract(t),this._zoom),this._moved||(e._moveStart(!0,!1),this._moved=!0),e._move(this._center,this._zoom),this._prevCenter=e.getCenter(),this._prevZoom=e.getZoom(),this._zoomAnimationId=requestAnimationFrame(this._updateWheelZoom.bind(this)))}}}),l.Map.addInitHook("addHandler","smoothWheelZoom",l.Map.SmoothWheelZoom)}let X;var J,ne,he,pe,me,x,we,ge,Pe,_e,De,Me,Ae,Ne;const Se=class Se{constructor(){K(this,J);K(this,ne,null);K(this,he,new Map);K(this,pe);K(this,me,sn());K(this,x);K(this,we,!1);K(this,ge);je(this,"updateBounds",Pn(()=>{if(Y(this,x,X.latLngBounds()),E(this,J).eachLayer(e=>{(e instanceof X.Marker||e instanceof X.CircleMarker||e instanceof X.GeoJSON)&&E(this,x).extend(e.getBounds?e.getBounds():e.getLatLng())}),E(this,x).isValid())E(this,J).fitBounds(E(this,x),{maxZoom:12}),E(this,ge)&&E(this,J).setZoom(E(this,ge));else throw console.error("Bounds are invalid!",E(this,x)),new Error("Bounds are invalid!")},100));K(this,_e,Ce(new Map));je(this,"allGeoJsonLoaded",Ue(E(this,_e),e=>Array.from(e.values()).every(Boolean)));K(this,De,Ce("bottomLeft"));K(this,Me,Ce([]));K(this,Ae,[]);K(this,Ne,Ce(void 0));Y(this,ne,null),Y(this,he,new Map)}get initPromise(){return E(this,me).promise}get mapEl(){return E(this,pe)}async init(e,t,n,i,o=!1,a){if(X||(E(this,me).start(),X=await Sn(()=>import("../chunks/leaflet-src.yfU63Ext.js").then(s=>s.l),__vite__mapDeps([0,1,2,3,4,5,6,7])).then(s=>{const u=s.default;return Mn(u),u}).catch(s=>{E(this,me).reject(s)})),Y(this,ge,i),E(this,pe)){const s=new Error("Evidence Map already initialized");throw E(this,me).reject(s),s}Y(this,pe,e),Y(this,J,X.map(E(this,pe),{zoomControl:!1,scrollWheelZoom:!1,smoothWheelZoom:!0,smoothSensitivity:5}).setView(n,i??5)),o&&Y(this,we,!0);const r=this.processBasemapUrl(t);X.tileLayer(r,{subdomains:"abcd",maxZoom:20,attribution:a}).addTo(E(this,J)),a||E(this,J).removeControl(E(this,J).attributionControl),Y(this,x,X.latLngBounds()),E(this,me).resolve()}cleanup(){E(this,J).remove()}addArea(e,t,n,i,o,a,r,s,u){if(!X)throw new Error("Leaflet is not yet available");this.lastSelectedLayer||(this.lastSelectedLayer=null),this.originalStyles||(this.originalStyles=new Map);const f=X.geoJSON(n,{...i,onEachFeature:(m,d)=>{this.originalStyles.set(d,i),d.on("click",()=>{this.lastSelectedLayer===d?(d.setStyle(this.originalStyles.get(d)),s(e,t),this.lastSelectedLayer=null):(this.lastSelectedLayer&&this.lastSelectedLayer.setStyle(this.originalStyles.get(this.lastSelectedLayer)),d.bringToFront(),d.setStyle(o),r(e,t),this.lastSelectedLayer=d),a(m),u&&(window.location.href=u)})}}).addTo(E(this,J));return E(this,x).extend(f.getBounds()),E(this,we)?E(this,J).setZoom(E(this,ge)??5):this.updateBounds(),f.bringToBack(),f}addCircle(e,t,n,i,o,a,r,s,u){if(!X)throw new Error("Leaflet is not yet available");E(this,J).getPane(n.pane)||(E(this,J).createPane(n.pane),E(this,Ae).forEach((m,d)=>{m===n.pane&&(E(this,J).getPane(m).style.zIndex=400+d)}));const f=X.circleMarker(o,n);return f.addTo(E(this,J)),this.updateMarkerStyle(f,n),f.on("click",()=>{if(a(),E(this,ne)===f){const m={...E(this,he).get(f)};this.updateMarkerStyle(f,m),Y(this,ne,null),s(t),a(null)}else{if(E(this,ne)){const m={...E(this,he).get(E(this,ne))};this.updateMarkerStyle(E(this,ne),m)}this.updateMarkerStyle(f,i),Y(this,ne,f),r(e,t),a(f)}f.bringToFront(),u&&(window.location.href=u)}),o&&Array.isArray(o)&&o.length===2&&!E(this,we)?(E(this,x).extend(o),this.updateBounds()):E(this,J).setZoom(E(this,ge)??5),f}updateMarkerStyle(e,t){e.setStyle(t),E(this,he).has(e)||E(this,he).set(e,{...t})}buildTooltip(e,t){let n="",i=t.map(o=>({id:o.id,title:o.title??o.id,showColumnName:o.showColumnName===void 0?!0:o.showColumnName,fieldClass:o.fieldClass??"default-field-class",valueClass:o.valueClass??"default-value-class",fmt:o.fmt??"num0",formatColumnTitle:o.formatColumnTitle===void 0&&o.title===void 0?!0:o.formatColumnTitle,contentType:o.contentType??"text",linkLabel:o.linkLabel??void 0}));if(i)for(let o=0;o<i.length;o++)n+=`<div class='flex justify-between items-center ${i[o].rowClass||""}'>`+(i[o].showColumnName?`<span class='font-bold pr-5 ${i[o].fieldClass}'>${i[o].formatColumnTitle?fn(i[o].title):i[o].title}</span>`:"")+(i[o].contentType==="link"?`<a href='${e[i[o].id]}' class='${i[o].valueClass}'>${i[o].linkLabel?i[o].linkLabel:ve(e[i[o].id],i[o].fmt)}</a>`:`<span class='${i[o].valueClass}'>${ve(e[i[o].id],i[o].fmt)}</span>`)+"</div>";return n}attachTooltip(e,t,n,i){i==="hover"?e.bindTooltip(t,n):i==="click"?e.bindPopup(t,n):console.error("tooltipType must be 'hover' or 'click'")}processBasemapUrl(e){const t=window.devicePixelRatio||1;let n=e;return n.includes("{r}")&&(n=n.replace("{r}",t>1?"@2x":"")),n.includes("{ext}")&&(n=n.replace("{ext}","png")),n}get geoJsonData(){return ze(E(this,_e))}async loadGeoJson(e){const t=E(Se,Pe).get(e);if(t)return t;const n=fetch(e).then(o=>o.json()).catch(o=>{E(this,_e).update(a=>(a.delete(e),a)),console.error(`Failed to load GeoJSON at URL '${e}': ${o}`)});E(Se,Pe).set(e,n),E(this,_e).update(o=>o.set(e,null));const i=await n;return E(this,_e).update(o=>(i?o.set(e,i):o.delete(e),o)),i}handleLegendValues(e,t,n){if(n==="categorical"){t=[...new Set(t)];let o=0;for(;e.length<t.length;)o>=e.length&&(o=0),e.push(e[o]),o++}else n==="scalar"&&t.forEach(i=>{typeof i!="number"&&i!==null&&console.error("Scalar legend requires numeric values or null."),typeof i=="number"&&isNaN(i)&&console.error("Scalar legend requires valid numeric values.")});return t}handleFillColor(e,t,n,i,o){if(!t)return jt.blue700;if(e[t])return typeof e[t]=="string"?i[n.indexOf(e[t])]:o(e[t])}updateLegendPosition(e){E(this,De).set(e)}get legendPosition(){let e;return E(this,De).subscribe(t=>e=t)(),e}buildLegend(e,t,n,i,o,a,r,s,u,f){const m=()=>({colorPalette:e,values:t,minValue:n,maxValue:i,legendType:o,valueFmt:a,chartType:r,legendId:s,value:u,legend:f});E(this,Me).update(d=>{const h=d.findIndex(c=>c.legendId===s);return h!==-1?d.map((c,g)=>g===h?{...f,...m()}:c):s!==void 0?[...d,m()]:d})}get legendData(){return ze(E(this,Me))}async initializeData(e,{corordinates:t,value:n,checkInputs:i,min:o,max:a,colorPalette:r,legendType:s,valueFmt:u,chartType:f,legendId:m,legend:d}){await e.fetch(),i(e,t);let h=e.map(_=>_[n]),c=Math.min(...h),g=Math.max(...h),y;return s||(typeof h[0]=="number"?s="scalar":s="categorical"),s&&!r&&(r=s==="categorical"?un:["lightblue","darkblue"],r=r.map(_=>ct(_).hex())),y=ct.scale(r).domain([o??c,a??g]),d&&n&&(h=this.handleLegendValues(r,h,s),this.buildLegend(r,h,c,g,s,u,f,m,n,d)),{values:h,colorPalette:r,colorScale:y}}registerPane(e){return E(this,Ae).push(e),e}handleInternalError(e){e&&E(this,Ne).set(e)}get internalError(){return ze(E(this,Ne))}};J=new WeakMap,ne=new WeakMap,he=new WeakMap,pe=new WeakMap,me=new WeakMap,x=new WeakMap,we=new WeakMap,ge=new WeakMap,Pe=new WeakMap,_e=new WeakMap,De=new WeakMap,Me=new WeakMap,Ae=new WeakMap,Ne=new WeakMap,K(Se,Pe,new Map);let He=Se;const Rt=Symbol("EvidenceMapContext");function mt(l,e,t){const n=l.slice();return n[7]=e[t],n[9]=t,n}function gt(l){let e,t,n,i,o,a=(l[7]||"No value")+"",r,s,u;return{c(){e=A("div"),t=A("span"),i=j(),o=A("span"),r=ie(a),u=j(),this.h()},l(f){e=N(f,"DIV",{class:!0});var m=O(e);t=N(m,"SPAN",{class:!0,style:!0}),O(t).forEach(k),i=z(m),o=N(m,"SPAN",{class:!0,title:!0});var d=O(o);r=le(d,a),d.forEach(k),u=z(m),m.forEach(k),this.h()},h(){v(t,"class",n="inline-block h-[8px] "+(l[0].chartType==="Area Map"?"":"rounded-full")+" w-[8px]"),oe(t,"background-color",l[0].colorPalette[l[9]]),v(o,"class","inline-block ml-2 truncate max-w-[calc(100%-16px)]"),v(o,"title",s=l[7]),v(e,"class","flex items-center")},m(f,m){M(f,e,m),S(e,t),S(e,i),S(e,o),S(o,r),S(e,u)},p(f,m){m&1&&n!==(n="inline-block h-[8px] "+(f[0].chartType==="Area Map"?"":"rounded-full")+" w-[8px]")&&v(t,"class",n),m&1&&oe(t,"background-color",f[0].colorPalette[f[9]]),m&1&&a!==(a=(f[7]||"No value")+"")&&Le(r,a),m&1&&s!==(s=f[7])&&v(o,"title",s)},d(f){f&&k(e)}}}function An(l){let e,t,n,i,o,a,r,s,u,f=be(l[0].values),m=[];for(let d=0;d<f.length;d+=1)m[d]=gt(mt(l,f,d));return{c(){e=A("div"),t=A("div"),n=A("div"),i=A("p"),o=ie(l[3]),a=j(),r=A("div");for(let d=0;d<m.length;d+=1)m[d].c();this.h()},l(d){e=N(d,"DIV",{class:!0});var h=O(e);t=N(h,"DIV",{style:!0,class:!0});var c=O(t);n=N(c,"DIV",{class:!0});var g=O(n);i=N(g,"P",{});var y=O(i);o=le(y,l[3]),y.forEach(k),g.forEach(k),a=z(c),r=N(c,"DIV",{class:!0});var _=O(r);for(let p=0;p<m.length;p+=1)m[p].l(_);_.forEach(k),c.forEach(k),h.forEach(k),this.h()},h(){v(n,"class","flex flex-wrap flex-col font-semibold"),v(r,"class","text-xs pr-1 w-full"),v(t,"style",s=`max-height: ${l[1]?"0px":`${l[2]-50}px`};`),v(t,"class",u="scrollbox flex flex-col transition-[opacity, max-height, overflow-y] duration-[350ms] ease-in-out w-full min-w-24 "+(l[4]?"overflow-y-auto":"overflow-hidden")+" "+(l[1]?"opacity-0":"")+" svelte-nu4nn8"),v(e,"class","flex w-full")},m(d,h){M(d,e,h),S(e,t),S(t,n),S(n,i),S(i,o),S(t,a),S(t,r);for(let c=0;c<m.length;c+=1)m[c]&&m[c].m(r,null)},p(d,[h]){if(h&1){f=be(d[0].values);let c;for(c=0;c<f.length;c+=1){const g=mt(d,f,c);m[c]?m[c].p(g,h):(m[c]=gt(g),m[c].c(),m[c].m(r,null))}for(;c<m.length;c+=1)m[c].d(1);m.length=f.length}h&6&&s!==(s=`max-height: ${d[1]?"0px":`${d[2]-50}px`};`)&&v(t,"style",s),h&2&&u!==(u="scrollbox flex flex-col transition-[opacity, max-height, overflow-y] duration-[350ms] ease-in-out w-full min-w-24 "+(d[4]?"overflow-y-auto":"overflow-hidden")+" "+(d[1]?"opacity-0":"")+" svelte-nu4nn8")&&v(t,"class",u)},i:Z,o:Z,d(d){d&&k(e),Ke(m,d)}}}function Nn(l,e,t){let{legend:n}=e,{hideLegend:i=!1}=e,{height:o=300}=e,{capitalize:a}=e,r=a(n.value)||"No value",u=n.values.length*16>o-50;return l.$$set=f=>{"legend"in f&&t(0,n=f.legend),"hideLegend"in f&&t(1,i=f.hideLegend),"height"in f&&t(2,o=f.height),"capitalize"in f&&t(5,a=f.capitalize)},[n,i,o,r,u,a]}class Zn extends re{constructor(e){super(),se(this,e,Nn,An,ae,{legend:0,hideLegend:1,height:2,capitalize:5})}}function On(l){let e,t,n,i,o,a,r,s,u,f,m=(l[0].valueFmt?ve(l[0].minValue,l[0].valueFmt):l[0].minValue)+"",d,h,c,g=(l[0].valueFmt?ve(l[0].maxValue,l[0].valueFmt):l[0].maxValue)+"",y,_;return{c(){e=A("div"),t=A("div"),n=A("span"),i=ie(l[4]),o=j(),a=A("div"),r=A("span"),s=j(),u=A("div"),f=A("span"),d=ie(m),h=j(),c=A("span"),y=ie(g),this.h()},l(p){e=N(p,"DIV",{class:!0});var T=O(e);t=N(T,"DIV",{class:!0});var w=O(t);n=N(w,"SPAN",{});var L=O(n);i=le(L,l[4]),L.forEach(k),w.forEach(k),o=z(T),a=N(T,"DIV",{class:!0});var V=O(a);r=N(V,"SPAN",{style:!0,class:!0});var W=O(r);W.forEach(k),s=z(V),u=N(V,"DIV",{class:!0});var B=O(u);f=N(B,"SPAN",{class:!0});var I=O(f);d=le(I,m),I.forEach(k),h=z(B),c=N(B,"SPAN",{class:!0});var te=O(c);y=le(te,g),te.forEach(k),B.forEach(k),V.forEach(k),T.forEach(k),this.h()},h(){v(t,"class","flex flex-wrap flex-col font-semibold"),oe(r,"background",l[0].colorPalette?`linear-gradient(to right, ${l[0].colorPalette.join(", ")})`:"white"),v(r,"class","relative h-2 min-w-56"),v(f,"class","text-[10px] inline-block"),v(c,"class","text-[10px] inline-block"),v(u,"class","flex justify-between"),v(a,"class","flex flex-col justify-center overflow-hidden h-8 w-full"),v(e,"class",_="flex flex-col "+(l[1]?l[2]:l[3])+" transition-[opacity, max-height, overflow-y] duration-[350ms] ease-in-out w-full")},m(p,T){M(p,e,T),S(e,t),S(t,n),S(n,i),S(e,o),S(e,a),S(a,r),S(a,s),S(a,u),S(u,f),S(f,d),S(u,h),S(u,c),S(c,y)},p(p,[T]){T&1&&oe(r,"background",p[0].colorPalette?`linear-gradient(to right, ${p[0].colorPalette.join(", ")})`:"white"),T&1&&m!==(m=(p[0].valueFmt?ve(p[0].minValue,p[0].valueFmt):p[0].minValue)+"")&&Le(d,m),T&1&&g!==(g=(p[0].valueFmt?ve(p[0].maxValue,p[0].valueFmt):p[0].maxValue)+"")&&Le(y,g),T&2&&_!==(_="flex flex-col "+(p[1]?p[2]:p[3])+" transition-[opacity, max-height, overflow-y] duration-[350ms] ease-in-out w-full")&&v(e,"class",_)},i:Z,o:Z,d(p){p&&k(e)}}}function Fn(l,e,t){let{legend:n}=e,{hideLegend:i=!1}=e,{capitalize:o}=e,a="max-h-[0px] opacity-0",r="max-h-[300px]",s=o(n.value);return l.$$set=u=>{"legend"in u&&t(0,n=u.legend),"hideLegend"in u&&t(1,i=u.hideLegend),"capitalize"in u&&t(5,o=u.capitalize)},[n,i,a,r,s,o]}class Vn extends re{constructor(e){super(),se(this,e,Fn,On,ae,{legend:0,hideLegend:1,capitalize:5})}}function Bn(l){let e,t,n,i,o,a,r=l[0]?"Show Legend":"Hide Legend",s,u,f;return{c(){e=A("button"),t=ft("svg"),n=ft("polyline"),o=j(),a=A("span"),s=ie(r),this.h()},l(m){e=N(m,"BUTTON",{class:!0,"aria-label":!0});var d=O(e);t=ut(d,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var h=O(t);n=ut(h,"polyline",{points:!0}),O(n).forEach(k),h.forEach(k),o=z(d),a=N(d,"SPAN",{class:!0});var c=O(a);s=le(c,r),c.forEach(k),d.forEach(k),this.h()},h(){v(n,"points","14 17 10 12 14 7"),v(t,"xmlns","http://www.w3.org/2000/svg"),v(t,"width",`8
		`),v(t,"height","8"),v(t,"viewBox","6 6 12 12"),v(t,"fill","none"),v(t,"stroke","#374151"),v(t,"stroke-width","1"),v(t,"stroke-linecap","round"),v(t,"stroke-linejoin","round"),v(t,"class",i="transform transition-transform duration-300 ease-in-out text-left gray-500 "+(l[0]?l[3][l[2]].hide:l[3][l[2]].show)),v(a,"class","sr-only"),v(e,"class","flex z-[1] items-center px-[8px] py-[1.5px]"),v(e,"aria-label","Toggle Legend")},m(m,d){M(m,e,d),S(e,t),S(t,n),S(e,o),S(e,a),S(a,s),u||(f=[Ie(e,"click",function(){nn(l[1])&&l[1].apply(this,arguments)}),Ie(e,"dblclick",jn)],u=!0)},p(m,[d]){l=m,d&5&&i!==(i="transform transition-transform duration-300 ease-in-out text-left gray-500 "+(l[0]?l[3][l[2]].hide:l[3][l[2]].show))&&v(t,"class",i),d&1&&r!==(r=l[0]?"Show Legend":"Hide Legend")&&Le(s,r)},i:Z,o:Z,d(m){m&&k(e),u=!1,At(f)}}}const jn=l=>l.stopPropagation();function zn(l,e,t){let{hideLegend:n=!1}=e,{handleLegendToggle:i}=e,{legendPosition:o="bottomLeft"}=e,a="down";o.includes("top")?a="up":o.includes("bottom")&&(a="down");const r={down:{show:"rotate-[270deg]",hide:"rotate-90"},up:{show:"rotate-90",hide:"rotate-[270deg]"}};return l.$$set=s=>{"hideLegend"in s&&t(0,n=s.hideLegend),"handleLegendToggle"in s&&t(1,i=s.handleLegendToggle),"legendPosition"in s&&t(4,o=s.legendPosition)},[n,i,a,r,o]}class Wn extends re{constructor(e){super(),se(this,e,zn,Bn,ae,{hideLegend:0,handleLegendToggle:1,legendPosition:4})}}function _t(l,e,t){const n=l.slice();return n[14]=e[t],n}function bt(l,e,t){const n=l.slice();return n[14]=e[t],n}function kt(l){let e,t,n,i,o,a,r,s,u,f,m,d,h=l[4].length>0&&pt(l),c=l[5].length>0&&vt(l);return r=new Wn({props:{handleLegendToggle:l[11],hideLegend:l[6],multiLegend:l[7],legendPosition:l[1]}}),{c(){e=A("div"),t=A("div"),h&&h.c(),n=j(),c&&c.c(),o=j(),a=A("div"),U(r.$$.fragment),this.h()},l(g){e=N(g,"DIV",{class:!0,role:!0});var y=O(e);t=N(y,"DIV",{class:!0});var _=O(t);h&&h.l(_),n=z(_),c&&c.l(_),_.forEach(k),o=z(y),a=N(y,"DIV",{class:!0});var p=O(a);R(r.$$.fragment,p),p.forEach(k),y.forEach(k),this.h()},h(){v(t,"class",i="bg-white background-blur "+l[13][l[1]]+" svelte-168cccw"),v(a,"class",s="bg-white background-blur flex justify-center w-fit transition-[border-radius] ease-in-out "+(l[1].includes("bottom")?"shadow-bottom":"")+" svelte-168cccw"),de(a,"rounded",l[6]),de(a,"delay-[225ms]",l[6]),de(a,"rounded-b",!l[6]&&l[1].includes("bottom")),de(a,"rounded-t",!l[6]&&!l[1].includes("bottom")),v(e,"class",u="absolute z-[401] m-4 flex max-w-60 flex legend-font "+l[12]()+" "+(l[9][l[1]]??"top-3 left-[-9px]")+" svelte-168cccw"),v(e,"role","group")},m(g,y){M(g,e,y),S(e,t),h&&h.m(t,null),S(t,n),c&&c.m(t,null),S(e,o),S(e,a),H(r,a,null),f=!0,m||(d=[Ie(e,"wheel",Jn),Ie(e,"dblclick",Un)],m=!0)},p(g,y){g[4].length>0?h?(h.p(g,y),y&16&&C(h,1)):(h=pt(g),h.c(),C(h,1),h.m(t,n)):h&&($(),D(h,1,1,()=>{h=null}),ee()),g[5].length>0?c?(c.p(g,y),y&32&&C(c,1)):(c=vt(g),c.c(),C(c,1),c.m(t,null)):c&&($(),D(c,1,1,()=>{c=null}),ee()),(!f||y&2&&i!==(i="bg-white background-blur "+g[13][g[1]]+" svelte-168cccw"))&&v(t,"class",i);const _={};y&64&&(_.hideLegend=g[6]),y&128&&(_.multiLegend=g[7]),y&2&&(_.legendPosition=g[1]),r.$set(_),(!f||y&2&&s!==(s="bg-white background-blur flex justify-center w-fit transition-[border-radius] ease-in-out "+(g[1].includes("bottom")?"shadow-bottom":"")+" svelte-168cccw"))&&v(a,"class",s),(!f||y&66)&&de(a,"rounded",g[6]),(!f||y&66)&&de(a,"delay-[225ms]",g[6]),(!f||y&66)&&de(a,"rounded-b",!g[6]&&g[1].includes("bottom")),(!f||y&66)&&de(a,"rounded-t",!g[6]&&!g[1].includes("bottom")),(!f||y&2&&u!==(u="absolute z-[401] m-4 flex max-w-60 flex legend-font "+g[12]()+" "+(g[9][g[1]]??"top-3 left-[-9px]")+" svelte-168cccw"))&&v(e,"class",u)},i(g){f||(C(h),C(c),C(r.$$.fragment,g),f=!0)},o(g){D(h),D(c),D(r.$$.fragment,g),f=!1},d(g){g&&k(e),h&&h.d(),c&&c.d(),G(r),m=!1,At(d)}}}function pt(l){let e,t,n=be(l[4]),i=[];for(let a=0;a<n.length;a+=1)i[a]=yt(bt(l,n,a));const o=a=>D(i[a],1,1,()=>{i[a]=null});return{c(){e=A("div");for(let a=0;a<i.length;a+=1)i[a].c();this.h()},l(a){e=N(a,"DIV",{class:!0});var r=O(e);for(let s=0;s<i.length;s+=1)i[s].l(r);r.forEach(k),this.h()},h(){v(e,"class","flex flex-wrap hover:cursor-default")},m(a,r){M(a,e,r);for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(e,null);t=!0},p(a,r){if(r&2260){n=be(a[4]);let s;for(s=0;s<n.length;s+=1){const u=bt(a,n,s);i[s]?(i[s].p(u,r),C(i[s],1)):(i[s]=yt(u),i[s].c(),C(i[s],1),i[s].m(e,null))}for($(),s=n.length;s<i.length;s+=1)o(s);ee()}},i(a){if(!t){for(let r=0;r<n.length;r+=1)C(i[r]);t=!0}},o(a){i=i.filter(Boolean);for(let r=0;r<i.length;r+=1)D(i[r]);t=!1},d(a){a&&k(e),Ke(i,a)}}}function yt(l){let e,t,n,i,o;return t=new Zn({props:{height:l[2],legend:l[14],handleLegendToggle:l[11],hideLegend:l[6],multiLegend:l[7],capitalize:Ht}}),{c(){e=A("div"),U(t.$$.fragment),n=j(),this.h()},l(a){e=N(a,"DIV",{class:!0});var r=O(e);R(t.$$.fragment,r),n=z(r),r.forEach(k),this.h()},h(){v(e,"class",i="border-l first:border-none flex transition-[border, padding] ease-in-out ease-in-out duration-[350ms] px-2 truncate "+(l[7]?"w-1/2":"max-w-48")+" "+(l[6]?" py-0":" py-1"))},m(a,r){M(a,e,r),H(t,e,null),S(e,n),o=!0},p(a,r){const s={};r&4&&(s.height=a[2]),r&16&&(s.legend=a[14]),r&64&&(s.hideLegend=a[6]),r&128&&(s.multiLegend=a[7]),t.$set(s),(!o||r&192&&i!==(i="border-l first:border-none flex transition-[border, padding] ease-in-out ease-in-out duration-[350ms] px-2 truncate "+(a[7]?"w-1/2":"max-w-48")+" "+(a[6]?" py-0":" py-1")))&&v(e,"class",i)},i(a){o||(C(t.$$.fragment,a),o=!0)},o(a){D(t.$$.fragment,a),o=!1},d(a){a&&k(e),G(t)}}}function vt(l){let e,t,n=be(l[5]),i=[];for(let a=0;a<n.length;a+=1)i[a]=wt(_t(l,n,a));const o=a=>D(i[a],1,1,()=>{i[a]=null});return{c(){for(let a=0;a<i.length;a+=1)i[a].c();e=q()},l(a){for(let r=0;r<i.length;r+=1)i[r].l(a);e=q()},m(a,r){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(a,r);M(a,e,r),t=!0},p(a,r){if(r&2272){n=be(a[5]);let s;for(s=0;s<n.length;s+=1){const u=_t(a,n,s);i[s]?(i[s].p(u,r),C(i[s],1)):(i[s]=wt(u),i[s].c(),C(i[s],1),i[s].m(e.parentNode,e))}for($(),s=n.length;s<i.length;s+=1)o(s);ee()}},i(a){if(!t){for(let r=0;r<n.length;r+=1)C(i[r]);t=!0}},o(a){i=i.filter(Boolean);for(let r=0;r<i.length;r+=1)D(i[r]);t=!1},d(a){a&&k(e),Ke(i,a)}}}function wt(l){let e,t,n,i,o;return t=new Vn({props:{legend:l[14],handleLegendToggle:l[11],hideLegend:l[6],multiLegend:l[7],capitalize:Ht}}),{c(){e=A("div"),U(t.$$.fragment),n=j(),this.h()},l(a){e=N(a,"DIV",{class:!0});var r=O(e);R(t.$$.fragment,r),n=z(r),r.forEach(k),this.h()},h(){v(e,"class",i="border-t first:border-none overflow-hidden transition-[border, padding] duration-[350ms] ease-in-out px-2 "+(l[6]?"py-0 border-none":"py-1"))},m(a,r){M(a,e,r),H(t,e,null),S(e,n),o=!0},p(a,r){const s={};r&32&&(s.legend=a[14]),r&64&&(s.hideLegend=a[6]),r&128&&(s.multiLegend=a[7]),t.$set(s),(!o||r&64&&i!==(i="border-t first:border-none overflow-hidden transition-[border, padding] duration-[350ms] ease-in-out px-2 "+(a[6]?"py-0 border-none":"py-1")))&&v(e,"class",i)},i(a){o||(C(t.$$.fragment,a),o=!0)},o(a){D(t.$$.fragment,a),o=!1},d(a){a&&k(e),G(t)}}}function qn(l){let e,t,n=l[8].length>0&&kt(l);return{c(){n&&n.c(),e=q()},l(i){n&&n.l(i),e=q()},m(i,o){n&&n.m(i,o),M(i,e,o),t=!0},p(i,[o]){i[8].length>0?n?(n.p(i,o),o&256&&C(n,1)):(n=kt(i),n.c(),C(n,1),n.m(e.parentNode,e)):n&&($(),D(n,1,1,()=>{n=null}),ee())},i(i){t||(C(n),t=!0)},o(i){D(n),t=!1},d(i){i&&k(e),n&&n.d(i)}}}function Ht(l){return l&&l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()}const Jn=l=>l.stopPropagation(),Un=l=>l.stopPropagation();function Rn(l,e,t){let n,i,o=Z,a=()=>(o(),o=We(g,L=>t(4,i=L)),g),r,s,u=Z,f=()=>(u(),u=We(d,L=>t(8,s=L)),d);l.$$.on_destroy.push(()=>o()),l.$$.on_destroy.push(()=>u());const m={topLeft:"top-[-9px] left-[-9px]",topRight:"top-[-9px] right-[-9px]",bottomLeft:"bottom-[-9px] left-[-9px]",bottomRight:"bottom-[-9px] right-[-9px] "};let{legendData:d}=e;f();let{legendPosition:h="bottomLeft"}=e,{height:c=300}=e,{categoricalLegendData:g=Ue(d,L=>L.filter(V=>V.legendType==="categorical"))}=e;a();let y=Ue(d,L=>L.filter(V=>V.legendType==="scalar"));ye(l,y,L=>t(5,r=L));let _=!1;const p=()=>{t(6,_=!_)},T=()=>{let L="";return h.includes("bottom")?L+="flex-col":L+="flex-col-reverse",h.includes("Right")&&(L+=" items-end"),L},w={bottomLeft:"rounded-t rounded-br shadow-bottom-right",bottomRight:"rounded-t rounded-bl shadow-bottom-left",topLeft:"rounded-b rounded-tr z-[405] shadow-bottom",topRight:"rounded-b rounded-tl z-[405] shadow-bottom"};return l.$$set=L=>{"legendData"in L&&f(t(0,d=L.legendData)),"legendPosition"in L&&t(1,h=L.legendPosition),"height"in L&&t(2,c=L.height),"categoricalLegendData"in L&&a(t(3,g=L.categoricalLegendData))},l.$$.update=()=>{l.$$.dirty&48&&t(7,n=i.length>1||r.length>1||r.length>0&&i.length>0)},[d,h,c,g,i,r,_,n,s,m,y,p,T,w]}class Hn extends re{constructor(e){super(),se(this,e,Rn,qn,ae,{legendData:0,legendPosition:1,height:2,categoricalLegendData:3})}}function Gn(l){let e,t,n,i,o,a,r,s,u,f=l[1]&&Lt(l);const m=l[18].default,d=Zt(m,l,l[17],null);let h=l[6]&&Tt(l),c=!l[7]&&Et(l);return{c(){e=A("div"),f&&f.c(),t=j(),n=A("div"),i=A("div"),d&&d.c(),o=j(),h&&h.c(),a=j(),c&&c.c(),this.h()},l(g){e=N(g,"DIV",{class:!0});var y=O(e);f&&f.l(y),t=z(y),n=N(y,"DIV",{class:!0,style:!0});var _=O(n);i=N(_,"DIV",{class:!0});var p=O(i);d&&d.l(p),p.forEach(k),o=z(_),h&&h.l(_),_.forEach(k),a=z(y),c&&c.l(y),y.forEach(k),this.h()},h(){v(i,"class","svelte-tuhe9b"),v(n,"class","z-0 rounded-md focus:outline-none svelte-tuhe9b"),oe(n,"height",l[0]+"px"),v(e,"class","relative break-inside-avoid svelte-tuhe9b")},m(g,y){M(g,e,y),f&&f.m(e,null),S(e,t),S(e,n),S(n,i),d&&d.m(i,null),S(n,o),h&&h.m(n,null),l[20](n),S(e,a),c&&c.m(e,null),r=!0,s||(u=Ie(i,"dispatcherror",l[19]),s=!0)},p(g,y){g[1]?f?f.p(g,y):(f=Lt(g),f.c(),f.m(e,t)):f&&(f.d(1),f=null),d&&d.p&&(!r||y&131072)&&Ot(d,m,g,g[17],r?Vt(m,g[17],y,null):Ft(g[17]),null),g[6]?h?(h.p(g,y),y&64&&C(h,1)):(h=Tt(g),h.c(),C(h,1),h.m(n,null)):h&&($(),D(h,1,1,()=>{h=null}),ee()),(!r||y&1)&&oe(n,"height",g[0]+"px"),g[7]?c&&($(),D(c,1,1,()=>{c=null}),ee()):c?(c.p(g,y),y&128&&C(c,1)):(c=Et(g),c.c(),C(c,1),c.m(e,null))},i(g){r||(C(d,g),C(h),C(c),r=!0)},o(g){D(d,g),D(h),D(c),r=!1},d(g){g&&k(e),f&&f.d(),d&&d.d(g),h&&h.d(),l[20](null),c&&c.d(),s=!1,u()}}}function Kn(l){let e,t;return e=new zt({props:{error:l[5],chartType:l[3]}}),{c(){U(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p(n,i){const o={};i&32&&(o.error=n[5]),i&8&&(o.chartType=n[3]),e.$set(o)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Lt(l){let e,t;return{c(){e=A("h4"),t=ie(l[1]),this.h()},l(n){e=N(n,"H4",{class:!0});var i=O(e);t=le(i,l[1]),i.forEach(k),this.h()},h(){v(e,"class","markdown mb-2")},m(n,i){M(n,e,i),S(e,t)},p(n,i){i&2&&Le(t,n[1])},d(n){n&&k(e)}}}function Tt(l){let e,t;return e=new Hn({props:{legendData:l[9],legendPosition:l[2],height:l[0]}}),{c(){U(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p(n,i){const o={};i&4&&(o.legendPosition=n[2]),i&1&&(o.height=n[0]),e.$set(o)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Et(l){let e,t,n;return t=new cn({}),{c(){e=A("div"),U(t.$$.fragment),this.h()},l(i){e=N(i,"DIV",{class:!0,style:!0});var o=O(e);R(t.$$.fragment,o),o.forEach(k),this.h()},h(){v(e,"class","absolute left-0 right-0 bottom-0 w-full *:m-0 bg-white svelte-tuhe9b"),oe(e,"height",l[0]+"px")},m(i,o){M(i,e,o),H(t,e,null),n=!0},p(i,o){(!n||o&1)&&oe(e,"height",i[0]+"px")},i(i){n||(C(t.$$.fragment,i),n=!0)},o(i){D(t.$$.fragment,i),n=!1},d(i){i&&k(e),G(t)}}}function Qn(l){let e,t,n,i;const o=[Kn,Gn],a=[];function r(s,u){return s[5]?0:1}return e=r(l),t=a[e]=o[e](l),{c(){t.c(),n=q()},l(s){t.l(s),n=q()},m(s,u){a[e].m(s,u),M(s,n,u),i=!0},p(s,[u]){let f=e;e=r(s),e===f?a[e].p(s,u):($(),D(a[f],1,1,()=>{a[f]=null}),ee(),t=a[e],t?t.p(s,u):(t=a[e]=o[e](s),t.c()),C(t,1),t.m(n.parentNode,n))},i(s){i||(C(t),i=!0)},o(s){D(t),i=!1},d(s){s&&k(n),a[e].d(s)}}}const Xn=39.077;function Yn(l,e,t){let n,i,o,{$$slots:a={},$$scope:r}=e,s,{startingLat:u=void 0}=e,{startingLong:f=void 0}=e,{startingZoom:m=void 0}=e;const d=-180,h=u||f;let{height:c=300}=e,{basemap:g=void 0}=e,{title:y=void 0}=e,_,{attribution:p=void 0}=e;const T=new He;Nt(Rt,T);const w=T.allGeoJsonLoaded;ye(l,w,P=>t(7,o=P));let L=T.legendData;ye(l,L,P=>t(6,i=P));let{legendPosition:V="bottomLeft"}=e,W=T.internalError;ye(l,W,P=>t(16,n=P));let{chartType:B="Map"}=e;Qe(async()=>{try{const P=u??!1?[u,f]:[Xn,d];return await T.init(s,g??"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",P,m,h,p),()=>T.cleanup()}catch(P){t(5,_=P.message),console.error(P)}});const I=P=>t(5,_=P.detail);function te(P){ln[P?"unshift":"push"](()=>{s=P,t(4,s)})}return l.$$set=P=>{"startingLat"in P&&t(11,u=P.startingLat),"startingLong"in P&&t(12,f=P.startingLong),"startingZoom"in P&&t(13,m=P.startingZoom),"height"in P&&t(0,c=P.height),"basemap"in P&&t(14,g=P.basemap),"title"in P&&t(1,y=P.title),"attribution"in P&&t(15,p=P.attribution),"legendPosition"in P&&t(2,V=P.legendPosition),"chartType"in P&&t(3,B=P.chartType),"$$scope"in P&&t(17,r=P.$$scope)},l.$$.update=()=>{l.$$.dirty&4&&V&&T.updateLegendPosition(V),l.$$.dirty&65536&&console.log(n),l.$$.dirty&65536&&n!==void 0&&t(5,_=n)},[c,y,V,B,s,_,i,o,w,L,W,u,f,m,g,p,n,r,a,I,te]}class xn extends re{constructor(e){super(),se(this,e,Yn,Qn,ae,{startingLat:11,startingLong:12,startingZoom:13,height:0,basemap:14,title:1,attribution:15,legendPosition:2,chartType:3})}}function $n(l,e,t){let{map:n=void 0}=e,{feature:i=void 0}=e,{areaOptions:o=void 0}=e,{selectedAreaOptions:a=void 0}=e,{onclick:r=void 0}=e,{setInput:s=void 0}=e,{unsetInput:u=void 0}=e,{item:f=void 0}=e,{tooltip:m=void 0}=e,{tooltipOptions:d=void 0}=e,{tooltipType:h=void 0}=e,{showTooltip:c=void 0}=e,{link:g=void 0}=e,{name:y=void 0}=e;return Qe(()=>{const _=n.addArea(f,y,i,o,a,r,s,u,f[g]);if(c){const p=n.buildTooltip(f,m);n.attachTooltip(_,p,d,h)}return()=>_.remove()}),l.$$set=_=>{"map"in _&&t(0,n=_.map),"feature"in _&&t(1,i=_.feature),"areaOptions"in _&&t(2,o=_.areaOptions),"selectedAreaOptions"in _&&t(3,a=_.selectedAreaOptions),"onclick"in _&&t(4,r=_.onclick),"setInput"in _&&t(5,s=_.setInput),"unsetInput"in _&&t(6,u=_.unsetInput),"item"in _&&t(7,f=_.item),"tooltip"in _&&t(8,m=_.tooltip),"tooltipOptions"in _&&t(9,d=_.tooltipOptions),"tooltipType"in _&&t(10,h=_.tooltipType),"showTooltip"in _&&t(11,c=_.showTooltip),"link"in _&&t(12,g=_.link),"name"in _&&t(13,y=_.name)},[n,i,o,a,r,s,u,f,m,d,h,c,g,y]}class ei extends re{constructor(e){super(),se(this,e,$n,null,ae,{map:0,feature:1,areaOptions:2,selectedAreaOptions:3,onclick:4,setInput:5,unsetInput:6,item:7,tooltip:8,tooltipOptions:9,tooltipType:10,showTooltip:11,link:12,name:13})}}function Ct(l,e,t){const n=l.slice();n[47]=e[t];const i=n[24].find(function(...a){return l[42](n[47],...a)});return n[48]=i,n}function ti(l){return{c:Z,l:Z,m:Z,p:Z,i:Z,o:Z,d:Z}}function ni(l){let e,t,n={ctx:l,current:null,token:null,hasCatch:!0,pending:oi,then:li,catch:ii,error:51,blocks:[,,,]};return Re(l[28](),n),{c(){e=q(),n.block.c()},l(i){e=q(),n.block.l(i)},m(i,o){M(i,e,o),n.block.m(i,n.anchor=o),n.mount=()=>e.parentNode,n.anchor=e,t=!0},p(i,o){l=i,Ut(n,l,o)},i(i){t||(C(n.block),t=!0)},o(i){for(let o=0;o<3;o+=1){const a=n.blocks[o];D(a)}t=!1},d(i){i&&k(e),n.block.d(i),n.token=null,n=null}}}function ii(l){let e=l[26].handleInternalError(l[51])+"",t;return{c(){t=ie(e)},l(n){t=le(n,e)},m(n,i){M(n,t,i)},p:Z,i:Z,o:Z,d(n){n&&k(t)}}}function li(l){let e=[],t=new Map,n,i,o=be(l[23]);const a=r=>r[47].properties[r[7]];for(let r=0;r<o.length;r+=1){let s=Ct(l,o,r),u=a(s);t.set(u,e[r]=St(u,s))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();n=q()},l(r){for(let s=0;s<e.length;s+=1)e[s].l(r);n=q()},m(r,s){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(r,s);M(r,n,s),i=!0},p(r,s){s[0]&1845493727&&(o=be(r[23]),$(),e=mn(e,s,a,1,r,o,t,n.parentNode,gn,St,n,Ct),ee())},i(r){if(!i){for(let s=0;s<o.length;s+=1)C(e[s]);i=!0}},o(r){for(let s=0;s<e.length;s+=1)D(e[s]);i=!1},d(r){r&&k(n);for(let s=0;s<e.length;s+=1)e[s].d(r)}}}function St(l,e){let t,n,i;function o(){return e[39](e[48])}function a(){return e[40](e[48])}function r(){return e[41](e[48])}return n=new ei({props:{map:e[26],feature:e[47],item:e[48],name:e[10],areaOptions:{fillColor:e[12]??e[26].handleFillColor(e[48],e[8],e[21],e[1],e[22])??e[22](e[48][e[8]]).hex(),fillOpacity:e[2],opacity:e[2],weight:e[0],color:e[13],className:`outline-none ${e[14]}`},selectedAreaOptions:{fillColor:e[15],fillOpacity:e[4],opacity:e[4],weight:e[3],color:e[16],className:`outline-none ${e[17]}`},onclick:o,setInput:a,unsetInput:r,tooltip:e[19],tooltipOptions:e[27],tooltipType:e[20],showTooltip:e[18],link:e[9]}}),{key:l,first:null,c(){t=q(),U(n.$$.fragment),this.h()},l(s){t=q(),R(n.$$.fragment,s),this.h()},h(){this.first=t},m(s,u){M(s,t,u),H(n,s,u),i=!0},p(s,u){e=s;const f={};u[0]&8388608&&(f.feature=e[47]),u[0]&25166016&&(f.item=e[48]),u[0]&1024&&(f.name=e[10]),u[0]&31486407&&(f.areaOptions={fillColor:e[12]??e[26].handleFillColor(e[48],e[8],e[21],e[1],e[22])??e[22](e[48][e[8]]).hex(),fillOpacity:e[2],opacity:e[2],weight:e[0],color:e[13],className:`outline-none ${e[14]}`}),u[0]&229400&&(f.selectedAreaOptions={fillColor:e[15],fillOpacity:e[4],opacity:e[4],weight:e[3],color:e[16],className:`outline-none ${e[17]}`}),u[0]&25168064&&(f.onclick=o),u[0]&25167040&&(f.setInput=a),u[0]&25167040&&(f.unsetInput=r),u[0]&524288&&(f.tooltip=e[19]),u[0]&1048576&&(f.tooltipType=e[20]),u[0]&262144&&(f.showTooltip=e[18]),u[0]&512&&(f.link=e[9]),n.$set(f)},i(s){i||(C(n.$$.fragment,s),i=!0)},o(s){D(n.$$.fragment,s),i=!1},d(s){s&&k(t),G(n,s)}}}function oi(l){return{c:Z,l:Z,m:Z,p:Z,i:Z,o:Z,d:Z}}function ai(l){return{c:Z,l:Z,m:Z,p:Z,i:Z,o:Z,d:Z}}function ri(l){let e,t,n,i={ctx:l,current:null,token:null,hasCatch:!1,pending:ai,then:ni,catch:ti,blocks:[,,,]};return Re(t=Promise.all([l[26].initPromise,l[5].fetch()]),i),{c(){e=q(),i.block.c()},l(o){e=q(),i.block.l(o)},m(o,a){M(o,e,a),i.block.m(o,i.anchor=a),i.mount=()=>e.parentNode,i.anchor=e,n=!0},p(o,a){l=o,i.ctx=l,a[0]&32&&t!==(t=Promise.all([l[26].initPromise,l[5].fetch()]))&&Re(t,i)||Ut(i,l,a)},i(o){n||(C(i.block),n=!0)},o(o){for(let a=0;a<3;a+=1){const r=i.blocks[a];D(r)}n=!1},d(o){o&&k(e),i.block.d(o),i.token=null,i=null}}}function si(l,e,t){let n,i,o=Z,a=()=>(o(),o=We(u,b=>t(24,i=b)),u);l.$$.on_destroy.push(()=>o());const r=Tn();ye(l,r,b=>t(43,n=b));const s=on(Rt);if(!s)throw new Error("Evidence Map Context has not been set. Areas will not function");let{data:u}=e;a();let{geoJsonUrl:f="https://evd-geojson.b-cdn.net/ca_california_zip_codes_geo_1.min.json"}=e,{areaCol:m=void 0}=e,{geoId:d=void 0}=e,{value:h=void 0}=e,{valueFmt:c=void 0}=e,{min:g=void 0}=e,{max:y=void 0}=e,{link:_=void 0}=e,{name:p=void 0}=e,{legendType:T=void 0}=e,{chartType:w="Area Map"}=e,{legend:L=!0}=e,{onclick:V=()=>{}}=e,{borderWidth:W=void 0}=e;if(W){if(W=Number(W),isNaN(W))throw Error("borderWidth must be a number");if(W<0)throw Error("borderWidth cannot be negative")}else W=.75;let{color:B=void 0}=e,{borderColor:I=jt.grey300}=e,{colorPalette:te=void 0}=e,{opacity:P=void 0}=e;if(P){if(P=Number(P),isNaN(P))throw Error("opacity must be a number");if(P<0)throw Error("opacity cannot be negative")}else P=.9;let{areaClass:Xe=void 0}=e,{selectedBorderWidth:ue=1}=e;if(ue){if(ue=Number(ue),isNaN(ue))throw Error("selectedBorderWidth must be a number");if(ue<0)throw Error("selectedBorderWidth cannot be negative")}else ue=.75;let{selectedColor:Ye="#d42a2a"}=e,{selectedBorderColor:xe="#ab1818"}=e,{selectedOpacity:ce=void 0}=e;if(ce){if(ce=Number(ce),isNaN(ce))throw Error("selectedOpacity must be a number");if(ce<0)throw Error("selectedOpacity cannot be negative")}else ce=1;let{selectedAreaClass:$e=void 0}=e,{showTooltip:et=!0}=e,{tooltip:Ee=[]}=e;Ee.length===0&&(m&&Ee.push({id:m,showColumnName:!1,valueClass:"font-bold text-sm",fmt:"id"}),h&&Ee.push({id:h,fmt:c}));let{tooltipClass:Fe=void 0}=e,{tooltipType:tt="hover"}=e;const Gt={permanent:!1,direction:"auto",sticky:!0,opacity:1,className:`${Fe}`,interactive:!0};async function nt(){const b=f,Q=await s.loadGeoJson(b);if(!Q||f!==b)return;const fe=new Set(u.map(ke=>ke[m].toString()));t(23,it=Q==null?void 0:Q.features.filter(ke=>fe.has(ke.properties[d])))}let Ve,Be,it=[],Kt=dn();async function Qt(){let b={corordinates:[m],value:h,checkInputs:hn,min:g,max:y,colorPalette:te,legendType:T,valueFmt:c,chartType:w,legendId:Kt,legend:L};await u.fetch(),B||t(21,{values:Ve,colorPalette:te,legendType:T,colorScale:Be}=await s.initializeData(u,b),Ve,t(1,te),t(31,T),t(22,Be)),await nt(),p&&i.length>0&&lt(i[0],p)}function lt(b,Q){qe(r,n[Q]=Object.fromEntries(Object.keys(b).map(fe=>[fe,!0])),n)}function ot(b,Q){qe(r,n[Q]=Object.fromEntries(Object.entries(b).map(([fe,ke])=>[fe,typeof ke=="string"?ke.replaceAll("'","''"):ke])),n)}function at(b,Q){r.update(fe=>(Object.prototype.hasOwnProperty.call(fe,Q)&&delete fe[Q],fe)),lt(b,Q)}const Xt=b=>{V(b)},Yt=b=>{p&&ot(b,p)},xt=b=>{p&&at(b,p)},$t=(b,Q)=>Q[m].toString()===b.properties[d];return l.$$set=b=>{"data"in b&&a(t(5,u=b.data)),"geoJsonUrl"in b&&t(32,f=b.geoJsonUrl),"areaCol"in b&&t(6,m=b.areaCol),"geoId"in b&&t(7,d=b.geoId),"value"in b&&t(8,h=b.value),"valueFmt"in b&&t(33,c=b.valueFmt),"min"in b&&t(34,g=b.min),"max"in b&&t(35,y=b.max),"link"in b&&t(9,_=b.link),"name"in b&&t(10,p=b.name),"legendType"in b&&t(31,T=b.legendType),"chartType"in b&&t(36,w=b.chartType),"legend"in b&&t(37,L=b.legend),"onclick"in b&&t(11,V=b.onclick),"borderWidth"in b&&t(0,W=b.borderWidth),"color"in b&&t(12,B=b.color),"borderColor"in b&&t(13,I=b.borderColor),"colorPalette"in b&&t(1,te=b.colorPalette),"opacity"in b&&t(2,P=b.opacity),"areaClass"in b&&t(14,Xe=b.areaClass),"selectedBorderWidth"in b&&t(3,ue=b.selectedBorderWidth),"selectedColor"in b&&t(15,Ye=b.selectedColor),"selectedBorderColor"in b&&t(16,xe=b.selectedBorderColor),"selectedOpacity"in b&&t(4,ce=b.selectedOpacity),"selectedAreaClass"in b&&t(17,$e=b.selectedAreaClass),"showTooltip"in b&&t(18,et=b.showTooltip),"tooltip"in b&&t(19,Ee=b.tooltip),"tooltipClass"in b&&t(38,Fe=b.tooltipClass),"tooltipType"in b&&t(20,tt=b.tooltipType)},l.$$.update=()=>{l.$$.dirty[0]&96|l.$$.dirty[1]&2&&(async()=>(await u.fetch(),await nt()))()},[W,te,P,ue,ce,u,m,d,h,_,p,V,B,I,Xe,Ye,xe,$e,et,Ee,tt,Ve,Be,it,i,r,s,Gt,Qt,ot,at,T,f,c,g,y,w,L,Fe,Xt,Yt,xt,$t]}class fi extends re{constructor(e){super(),se(this,e,si,ri,ae,{data:5,geoJsonUrl:32,areaCol:6,geoId:7,value:8,valueFmt:33,min:34,max:35,link:9,name:10,legendType:31,chartType:36,legend:37,onclick:11,borderWidth:0,color:12,borderColor:13,colorPalette:1,opacity:2,areaClass:14,selectedBorderWidth:3,selectedColor:15,selectedBorderColor:16,selectedOpacity:4,selectedAreaClass:17,showTooltip:18,tooltip:19,tooltipClass:38,tooltipType:20},null,[-1,-1])}}const ui=l=>({data:l&1024}),It=l=>({data:l[10]});function Pt(l){let e,t;return{c(){e=A("h4"),t=ie(l[1]),this.h()},l(n){e=N(n,"H4",{class:!0});var i=O(e);t=le(i,l[1]),i.forEach(k),this.h()},h(){v(e,"class","markdown mb-2")},m(n,i){M(n,e,i),S(e,t)},p(n,i){i&2&&Le(t,n[1])},d(n){n&&k(e)}}}function ci(l){let e;const t=l[8].default,n=Zt(t,l,l[9],It);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o&1536)&&Ot(n,t,i,i[9],e?Vt(t,i[9],o,ui):Ft(i[9]),It)},i(i){e||(C(n,i),e=!0)},o(i){D(n,i),e=!1},d(i){n&&n.d(i)}}}function di(l){let e,t;const n=[l[7],{title:void 0}];let i={$$slots:{default:[ci]},$$scope:{ctx:l}};for(let o=0;o<n.length;o+=1)i=Te(i,n[o]);return e=new xn({props:i}),{c(){U(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,a){H(e,o,a),t=!0},p(o,a){const r=a&128?Wt(n,[a&128&&qt(o[7]),a&0&&{title:void 0}]):{};a&1536&&(r.$$scope={dirty:a,ctx:o}),e.$set(r)},i(o){t||(C(e.$$.fragment,o),t=!0)},o(o){D(e.$$.fragment,o),t=!1},d(o){G(e,o)}}}function hi(l){let e,t;return e=new bn({props:{slot:"empty",emptyMessage:l[3],emptySet:l[2],chartType:l[4],isInitial:l[5]}}),{c(){U(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p(n,i){const o={};i&8&&(o.emptyMessage=n[3]),i&4&&(o.emptySet=n[2]),i&16&&(o.chartType=n[4]),i&32&&(o.isInitial=n[5]),e.$set(o)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function mi(l){let e,t;return e=new zt({props:{slot:"error",chartType:l[4],error:l[6]??l[10].error.message}}),{c(){U(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p(n,i){const o={};i&16&&(o.chartType=n[4]),i&1088&&(o.error=n[6]??n[10].error.message),e.$set(o)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function gi(l){let e,t,n,i,o=l[1]&&Pt(l);return n=new _n({props:{data:l[0],$$slots:{error:[mi,({loaded:a})=>({10:a}),({loaded:a})=>a?1024:0],empty:[hi],default:[di,({loaded:a})=>({10:a}),({loaded:a})=>a?1024:0]},$$scope:{ctx:l}}}),{c(){e=A("div"),o&&o.c(),t=j(),U(n.$$.fragment),this.h()},l(a){e=N(a,"DIV",{style:!0});var r=O(e);o&&o.l(r),t=z(r),R(n.$$.fragment,r),r.forEach(k),this.h()},h(){oe(e,"margin-top","15px"),oe(e,"margin-bottom","10px")},m(a,r){M(a,e,r),o&&o.m(e,null),S(e,t),H(n,e,null),i=!0},p(a,[r]){a[1]?o?o.p(a,r):(o=Pt(a),o.c(),o.m(e,t)):o&&(o.d(1),o=null);const s={};r&1&&(s.data=a[0]),r&1788&&(s.$$scope={dirty:r,ctx:a}),n.$set(s)},i(a){i||(C(n.$$.fragment,a),i=!0)},o(a){D(n.$$.fragment,a),i=!1},d(a){a&&k(e),o&&o.d(),G(n)}}}function _i(l,e,t){const n=["data","title","emptySet","emptyMessage","chartType","isInitial","error"];let i=Oe(e,n),{$$slots:o={},$$scope:a}=e,{data:r}=e,{title:s=void 0}=e,{emptySet:u=void 0}=e,{emptyMessage:f=void 0}=e,{chartType:m=void 0}=e,{isInitial:d=!0}=e,{error:h=void 0}=e;return l.$$set=c=>{e=Te(Te({},e),Bt(c)),t(7,i=Oe(e,n)),"data"in c&&t(0,r=c.data),"title"in c&&t(1,s=c.title),"emptySet"in c&&t(2,u=c.emptySet),"emptyMessage"in c&&t(3,f=c.emptyMessage),"chartType"in c&&t(4,m=c.chartType),"isInitial"in c&&t(5,d=c.isInitial),"error"in c&&t(6,h=c.error),"$$scope"in c&&t(9,a=c.$$scope)},[r,s,u,f,m,d,h,i,o,a]}class bi extends re{constructor(e){super(),se(this,e,_i,gi,ae,{data:0,title:1,emptySet:2,emptyMessage:3,chartType:4,isInitial:5,error:6})}}function ki(l){let e,t;const n=[{data:l[15]},{geoJsonUrl:l[2]},{geoId:l[3]},{areaCol:l[4]},{legendType:l[12]},{chartType:Ge},{legend:l[13]},l[18]];let i={};for(let o=0;o<n.length;o+=1)i=Te(i,n[o]);return e=new fi({props:i}),e.$on("error",l[19]),{c(){U(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,a){H(e,o,a),t=!0},p(o,a){const r=a&307228?Wt(n,[a&32768&&{data:o[15]},a&4&&{geoJsonUrl:o[2]},a&8&&{geoId:o[3]},a&16&&{areaCol:o[4]},a&4096&&{legendType:o[12]},a&0&&{chartType:Ge},a&8192&&{legend:o[13]},a&262144&&qt(o[18])]):{};e.$set(r)},i(o){t||(C(e.$$.fragment,o),t=!0)},o(o){D(e.$$.fragment,o),t=!1},d(o){G(e,o)}}}function pi(l){let e,t;return e=new bi({props:{data:l[15],startingLat:l[5],startingLong:l[6],startingZoom:l[7],height:l[8],basemap:l[9],title:l[10],legendPosition:l[11],chartType:Ge,isInitial:l[17],emptySet:l[0],emptyMessage:l[1],error:l[16],attribution:l[14],$$slots:{default:[ki,({data:n})=>({15:n}),({data:n})=>n?32768:0]},$$scope:{ctx:l}}}),{c(){U(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p(n,[i]){const o={};i&32768&&(o.data=n[15]),i&32&&(o.startingLat=n[5]),i&64&&(o.startingLong=n[6]),i&128&&(o.startingZoom=n[7]),i&256&&(o.height=n[8]),i&512&&(o.basemap=n[9]),i&1024&&(o.title=n[10]),i&2048&&(o.legendPosition=n[11]),i&131072&&(o.isInitial=n[17]),i&1&&(o.emptySet=n[0]),i&2&&(o.emptyMessage=n[1]),i&65536&&(o.error=n[16]),i&16384&&(o.attribution=n[14]),i&2469916&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}const Ge="Area Map";function yi(l,e,t){let n;const i=["emptySet","emptyMessage","data","geoJsonUrl","geoId","areaCol","startingLat","startingLong","startingZoom","height","basemap","title","legendPosition","legendType","legend","attribution"];let o=Oe(e,i),{emptySet:a=void 0}=e,{emptyMessage:r=void 0}=e,s,{data:u}=e;u||(s="data is required");let{geoJsonUrl:f="https://evd-geojson.b-cdn.net/ca_california_zip_codes_geo_1.min.json"}=e,{geoId:m=void 0}=e;m||(s="geoId is required. This is the name of the field in your geoJSON file which identifies the area/feature");let{areaCol:d=void 0}=e;d||(s="areaCol is required. This is the name of the column in your query result which contains the identifier for the area you want to map");let{startingLat:h=void 0}=e,{startingLong:c=void 0}=e,{startingZoom:g=void 0}=e,{height:y=300}=e,{basemap:_=void 0}=e,{title:p=void 0}=e,{legendPosition:T="bottomLeft"}=e,{legendType:w=void 0}=e,{legend:L=!0}=e,{attribution:V=void 0}=e;const W=Je.isQuery(u)?u.hash:void 0,B=I=>t(16,s=I.detail);return l.$$set=I=>{e=Te(Te({},e),Bt(I)),t(18,o=Oe(e,i)),"emptySet"in I&&t(0,a=I.emptySet),"emptyMessage"in I&&t(1,r=I.emptyMessage),"data"in I&&t(15,u=I.data),"geoJsonUrl"in I&&t(2,f=I.geoJsonUrl),"geoId"in I&&t(3,m=I.geoId),"areaCol"in I&&t(4,d=I.areaCol),"startingLat"in I&&t(5,h=I.startingLat),"startingLong"in I&&t(6,c=I.startingLong),"startingZoom"in I&&t(7,g=I.startingZoom),"height"in I&&t(8,y=I.height),"basemap"in I&&t(9,_=I.basemap),"title"in I&&t(10,p=I.title),"legendPosition"in I&&t(11,T=I.legendPosition),"legendType"in I&&t(12,w=I.legendType),"legend"in I&&t(13,L=I.legend),"attribution"in I&&t(14,V=I.attribution)},l.$$.update=()=>{l.$$.dirty&32768&&t(17,n=(u==null?void 0:u.hash)===W)},[a,r,f,m,d,h,c,g,y,_,p,T,w,L,V,u,s,n,o,B]}class vi extends re{constructor(e){super(),se(this,e,yi,pi,ae,{emptySet:0,emptyMessage:1,data:15,geoJsonUrl:2,geoId:3,areaCol:4,startingLat:5,startingLong:6,startingZoom:7,height:8,basemap:9,title:10,legendPosition:11,legendType:12,legend:13,attribution:14})}}function wi(l){let e,t=F.title+"",n;return{c(){e=A("h1"),n=ie(t),this.h()},l(i){e=N(i,"H1",{class:!0});var o=O(e);n=le(o,t),o.forEach(k),this.h()},h(){v(e,"class","title")},m(i,o){M(i,e,o),S(e,n)},p:Z,d(i){i&&k(e)}}}function Li(l){return{c(){this.h()},l(e){this.h()},h(){document.title="Evidence"},m:Z,p:Z,d:Z}}function Ti(l){let e,t,n,i,o;return document.title=e=F.title,{c(){t=j(),n=A("meta"),i=j(),o=A("meta"),this.h()},l(a){t=z(a),n=N(a,"META",{property:!0,content:!0}),i=z(a),o=N(a,"META",{name:!0,content:!0}),this.h()},h(){var a,r;v(n,"property","og:title"),v(n,"content",((a=F.og)==null?void 0:a.title)??F.title),v(o,"name","twitter:title"),v(o,"content",((r=F.og)==null?void 0:r.title)??F.title)},m(a,r){M(a,t,r),M(a,n,r),M(a,i,r),M(a,o,r)},p(a,r){r&0&&e!==(e=F.title)&&(document.title=e)},d(a){a&&(k(t),k(n),k(i),k(o))}}}function Ei(l){var o,a;let e,t,n=(F.description||((o=F.og)==null?void 0:o.description))&&Ci(),i=((a=F.og)==null?void 0:a.image)&&Si();return{c(){n&&n.c(),e=j(),i&&i.c(),t=q()},l(r){n&&n.l(r),e=z(r),i&&i.l(r),t=q()},m(r,s){n&&n.m(r,s),M(r,e,s),i&&i.m(r,s),M(r,t,s)},p(r,s){var u,f;(F.description||(u=F.og)!=null&&u.description)&&n.p(r,s),(f=F.og)!=null&&f.image&&i.p(r,s)},d(r){r&&(k(e),k(t)),n&&n.d(r),i&&i.d(r)}}}function Ci(l){let e,t,n,i,o;return{c(){e=A("meta"),t=j(),n=A("meta"),i=j(),o=A("meta"),this.h()},l(a){e=N(a,"META",{name:!0,content:!0}),t=z(a),n=N(a,"META",{property:!0,content:!0}),i=z(a),o=N(a,"META",{name:!0,content:!0}),this.h()},h(){var a,r,s;v(e,"name","description"),v(e,"content",F.description??((a=F.og)==null?void 0:a.description)),v(n,"property","og:description"),v(n,"content",((r=F.og)==null?void 0:r.description)??F.description),v(o,"name","twitter:description"),v(o,"content",((s=F.og)==null?void 0:s.description)??F.description)},m(a,r){M(a,e,r),M(a,t,r),M(a,n,r),M(a,i,r),M(a,o,r)},p:Z,d(a){a&&(k(e),k(t),k(n),k(i),k(o))}}}function Si(l){let e,t,n;return{c(){e=A("meta"),t=j(),n=A("meta"),this.h()},l(i){e=N(i,"META",{property:!0,content:!0}),t=z(i),n=N(i,"META",{name:!0,content:!0}),this.h()},h(){var i,o;v(e,"property","og:image"),v(e,"content",dt((i=F.og)==null?void 0:i.image)),v(n,"name","twitter:image"),v(n,"content",dt((o=F.og)==null?void 0:o.image))},m(i,o){M(i,e,o),M(i,t,o),M(i,n,o)},p:Z,d(i){i&&(k(e),k(t),k(n))}}}function Ii(l){let e,t;return e=new wn({props:{value:"%",valueLabel:"All Ford Fields"}}),{c(){U(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p:Z,i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Dt(l){let e,t;return e=new Jt({props:{queryID:"clanky_v_okresech",queryResult:l[0]}}),{c(){U(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p(n,i){const o={};i&1&&(o.queryResult=n[0]),e.$set(o)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Mt(l){let e,t;return e=new Jt({props:{queryID:"ford",queryResult:l[1]}}),{c(){U(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p(n,i){const o={};i&2&&(o.queryResult=n[1]),e.$set(o)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Pi(l){let e,t,n,i,o,a,r,s,u,f,m,d,h=typeof F<"u"&&F.title&&F.hide_title!==!0&&wi();function c(w,L){return typeof F<"u"&&F.title?Ti:Li}let y=c()(l),_=typeof F=="object"&&Ei();a=new vn({props:{title:"FORD:",data:l[1],name:"ford_picker",value:"name",$$slots:{default:[Ii]},$$scope:{ctx:l}}}),s=new vi({props:{data:l[0],geoJsonUrl:"/rvvi/okresy.json",areaCol:"KODOKRESU",geoId:"nationalCode",startingLat:"49.8",startingLong:"15.4",startingZoom:"7",height:"400",value:"article_count"}});let p=l[0]&&Dt(l),T=l[1]&&Mt(l);return{c(){h&&h.c(),e=j(),y.c(),t=A("meta"),n=A("meta"),_&&_.c(),i=q(),o=j(),U(a.$$.fragment),r=j(),U(s.$$.fragment),u=j(),p&&p.c(),f=j(),T&&T.c(),m=q(),this.h()},l(w){h&&h.l(w),e=z(w);const L=an("svelte-6lktun",document.head);y.l(L),t=N(L,"META",{name:!0,content:!0}),n=N(L,"META",{name:!0,content:!0}),_&&_.l(L),i=q(),L.forEach(k),o=z(w),R(a.$$.fragment,w),r=z(w),R(s.$$.fragment,w),u=z(w),p&&p.l(w),f=z(w),T&&T.l(w),m=q(),this.h()},h(){v(t,"name","twitter:card"),v(t,"content","summary"),v(n,"name","twitter:site"),v(n,"content","@evidence_dev")},m(w,L){h&&h.m(w,L),M(w,e,L),y.m(document.head,null),S(document.head,t),S(document.head,n),_&&_.m(document.head,null),S(document.head,i),M(w,o,L),H(a,w,L),M(w,r,L),H(s,w,L),M(w,u,L),p&&p.m(w,L),M(w,f,L),T&&T.m(w,L),M(w,m,L),d=!0},p(w,[L]){typeof F<"u"&&F.title&&F.hide_title!==!0&&h.p(w,L),y.p(w,L),typeof F=="object"&&_.p(w,L);const V={};L&2&&(V.data=w[1]),L&16777216&&(V.$$scope={dirty:L,ctx:w}),a.$set(V);const W={};L&1&&(W.data=w[0]),s.$set(W),w[0]?p?(p.p(w,L),L&1&&C(p,1)):(p=Dt(w),p.c(),C(p,1),p.m(f.parentNode,f)):p&&($(),D(p,1,1,()=>{p=null}),ee()),w[1]?T?(T.p(w,L),L&2&&C(T,1)):(T=Mt(w),T.c(),C(T,1),T.m(m.parentNode,m)):T&&($(),D(T,1,1,()=>{T=null}),ee())},i(w){d||(C(a.$$.fragment,w),C(s.$$.fragment,w),C(p),C(T),d=!0)},o(w){D(a.$$.fragment,w),D(s.$$.fragment,w),D(p),D(T),d=!1},d(w){w&&(k(e),k(o),k(r),k(u),k(f),k(m)),h&&h.d(w),y.d(w),k(t),k(n),_&&_.d(w),k(i),G(a,w),G(s,w),p&&p.d(w),T&&T.d(w)}}}const F={title:"Poet lnk dle okresu"};function Di(l,e,t){let n,i;ye(l,Ln,B=>t(13,n=B)),ye(l,ht,B=>t(18,i=B));let{data:o}=e,{data:a={},customFormattingSettings:r,__db:s,inputs:u}=o;qe(ht,i="c22993728eae9502bb5a862fb109eab9",i);let f=En(Ce(u));rn(f.subscribe(B=>t(4,u=B))),Nt(yn,{getCustomFormats:()=>r.customFormats||[]});const m=(B,I)=>Cn(s.query,B,{query_name:I});kn(m),n.params,Qe(()=>!0);let d={initialData:void 0,initialError:void 0},h=Ze`select kodokresu, sum(aid_count) article_count
from psc.psc
join rvvi.article_core i on i.postal_code = psc.psc
where i.f_name LIKE '${u.ford_picker.value}'
group by kodokresu`,c=`select kodokresu, sum(aid_count) article_count
from psc.psc
join rvvi.article_core i on i.postal_code = psc.psc
where i.f_name LIKE '${u.ford_picker.value}'
group by kodokresu`;a.clanky_v_okresech_data&&(a.clanky_v_okresech_data instanceof Error?d.initialError=a.clanky_v_okresech_data:d.initialData=a.clanky_v_okresech_data,a.clanky_v_okresech_columns&&(d.knownColumns=a.clanky_v_okresech_columns));let g,y=!1;const _=Je.createReactive({callback:B=>{t(0,g=B)},execFn:m},{id:"clanky_v_okresech",...d});_(c,{noResolve:h,...d}),globalThis[Symbol.for("clanky_v_okresech")]={get value(){return g}};let p={initialData:void 0,initialError:void 0},T=Ze`select name
from rvvi.field_ford`,w=`select name
from rvvi.field_ford`;a.ford_data&&(a.ford_data instanceof Error?p.initialError=a.ford_data:p.initialData=a.ford_data,a.ford_columns&&(p.knownColumns=a.ford_columns));let L,V=!1;const W=Je.createReactive({callback:B=>{t(1,L=B)},execFn:m},{id:"ford",...p});return W(w,{noResolve:T,...p}),globalThis[Symbol.for("ford")]={get value(){return L}},l.$$set=B=>{"data"in B&&t(2,o=B.data)},l.$$.update=()=>{l.$$.dirty&4&&t(3,{data:a={},customFormattingSettings:r,__db:s}=o,a),l.$$.dirty&8&&pn.set(Object.keys(a).length>0),l.$$.dirty&8192&&n.params,l.$$.dirty&16&&t(6,h=Ze`select kodokresu, sum(aid_count) article_count
from psc.psc
join rvvi.article_core i on i.postal_code = psc.psc
where i.f_name LIKE '${u.ford_picker.value}'
group by kodokresu`),l.$$.dirty&16&&t(7,c=`select kodokresu, sum(aid_count) article_count
from psc.psc
join rvvi.article_core i on i.postal_code = psc.psc
where i.f_name LIKE '${u.ford_picker.value}'
group by kodokresu`),l.$$.dirty&480&&(h||!y?h||(_(c,{noResolve:h,...d}),t(8,y=!0)):_(c,{noResolve:h})),l.$$.dirty&7680&&(T||!V?T||(W(w,{noResolve:T,...p}),t(12,V=!0)):W(w,{noResolve:T}))},t(10,T=Ze`select name
from rvvi.field_ford`),t(11,w=`select name
from rvvi.field_ford`),[g,L,o,a,u,d,h,c,y,p,T,w,V,n]}class qi extends re{constructor(e){super(),se(this,e,Di,Pi,ae,{data:2})}}export{qi as component};
