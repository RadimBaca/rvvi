const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_app/immutable/chunks/leaflet-src.Cygp5nUw.js","_app/immutable/chunks/VennDiagram.svelte_svelte_type_style_lang.5Q7O33OV.js","_app/immutable/chunks/entry.DYUQrw6M.js","_app/immutable/chunks/scheduler.C9EcQ0XW.js","_app/immutable/chunks/index.BaFYQsWh.js","_app/immutable/chunks/preload-helper.sby0Q4ry.js","_app/immutable/chunks/index.rV6zwFgL.js","_app/immutable/assets/VennDiagram.Hmmox_0V.css"])))=>i.map(i=>d[i]);
var en=Object.defineProperty;var rt=o=>{throw TypeError(o)};var tn=(o,e,t)=>e in o?en(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var je=(o,e,t)=>tn(o,typeof e!="symbol"?e+"":e,t),st=(o,e,t)=>e.has(o)||rt("Cannot "+t);var C=(o,e,t)=>(st(o,e,"read from private field"),t?t.call(o):e.get(o)),Q=(o,e,t)=>e.has(o)?rt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(o):e.set(o,t),Y=(o,e,t,n)=>(st(o,e,"write to private field"),n?n.call(o,t):e.set(o,t),t);import{s as ae,e as A,t as ie,a as j,d as N,r as O,u as le,f as k,c as z,i as v,j as M,k as S,q as Z,_ as Qe,X as oe,I as Le,S as ft,T as ut,B as Ie,L as nn,M as At,b as q,l as ye,A as de,N as We,n as Nt,p as Ke,O as ln,z as Zt,D as Ot,E as Ft,F as Vt,Q as on,m as qe,ad as Oe,ae as Te,af as Bt,h as an,o as rn}from"../chunks/scheduler.C9EcQ0XW.js";import{S as re,i as se,t as E,g as $,b as D,d as ee,c as U,a as R,m as H,e as G}from"../chunks/index.BaFYQsWh.js";import{v as sn,x as fn,y as ve,z as jt,A as un,B as ct,j as be,F as zt,S as cn,q as dn,G as hn,u as mn,o as gn,H as _n,J as Wt,K as qt,L as bn,Q as Je,s as kn,p as pn,a as dt,r as ht,C as yn}from"../chunks/VennDiagram.svelte_svelte_type_style_lang.5Q7O33OV.js";import{w as Ee,a as ze,d as Ue}from"../chunks/entry.DYUQrw6M.js";import{h as Ze}from"../chunks/button.COsnHutR.js";import{D as vn,a as wn,Q as Jt}from"../chunks/QueryViewer.DL0cdy2M.js";import{p as Ln}from"../chunks/stores.DODRV8zW.js";import{h as Re,u as Ut}from"../chunks/await_block.BbeJ363K.js";import{g as Tn,e as Cn,p as En}from"../chunks/profile.npXKO6am.js";import{_ as Sn}from"../chunks/preload-helper.sby0Q4ry.js";const In={trailing:!0};function Pn(o,e=25,t={}){if(t={...In,...t},!Number.isFinite(e))throw new TypeError("Expected `wait` to be a finite number");let n,i,l=[],a,r;const s=(u,f)=>(a=Dn(o,u,f),a.finally(()=>{if(a=null,t.trailing&&r&&!i){const m=s(u,r);return r=null,m}}),a);return function(...u){return a?(t.trailing&&(r=u),a):new Promise(f=>{const m=!i&&t.leading;clearTimeout(i),i=setTimeout(()=>{i=null;const d=t.leading?n:s(this,u);for(const h of l)h(d);l=[]},e),m?(n=s(this,u),f(n)):l.push(f)})}}async function Dn(o,e,t){return await o.apply(e,t)}function Mn(o){o.Map.mergeOptions({smoothWheelZoom:!0,smoothSensitivity:1}),o.Map.SmoothWheelZoom=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"wheel",this._onWheelScroll,this)},removeHooks:function(){o.DomEvent.off(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){this._isWheeling||this._onWheelStart(e),this._onWheeling(e)},_onWheelStart:function(e){var t=this._map;this._isWheeling=!0,this._wheelMousePosition=t.mouseEventToContainerPoint(e),this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),this._wheelStartLatLng=t.containerPointToLatLng(this._wheelMousePosition),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),t._panAnim&&t._panAnim.stop(),this._goalZoom=t.getZoom(),this._prevCenter=t.getCenter(),this._prevZoom=t.getZoom(),this._zoomAnimationId=requestAnimationFrame(this._updateWheelZoom.bind(this))},_onWheeling:function(e){var t=this._map;this._goalZoom=this._goalZoom+o.DomEvent.getWheelDelta(e)*.003*t.options.smoothSensitivity,(this._goalZoom<t.getMinZoom()||this._goalZoom>t.getMaxZoom())&&(this._goalZoom=t._limitZoom(this._goalZoom)),this._wheelMousePosition=this._map.mouseEventToContainerPoint(e),clearTimeout(this._timeoutId),this._timeoutId=setTimeout(this._onWheelEnd.bind(this),200),o.DomEvent.preventDefault(e),o.DomEvent.stopPropagation(e)},_onWheelEnd:function(){this._isWheeling=!1,cancelAnimationFrame(this._zoomAnimationId),this._map._moveEnd(!0)},_updateWheelZoom:function(){var e=this._map;if(!(!e.getCenter().equals(this._prevCenter)||e.getZoom()!=this._prevZoom)){this._zoom=e.getZoom()+(this._goalZoom-e.getZoom())*.3,this._zoom=Math.floor(this._zoom*100)/100;var t=this._wheelMousePosition.subtract(this._centerPoint);t.x===0&&t.y===0||(e.options.smoothWheelZoom==="center"?this._center=this._startLatLng:this._center=e.unproject(e.project(this._wheelStartLatLng,this._zoom).subtract(t),this._zoom),this._moved||(e._moveStart(!0,!1),this._moved=!0),e._move(this._center,this._zoom),this._prevCenter=e.getCenter(),this._prevZoom=e.getZoom(),this._zoomAnimationId=requestAnimationFrame(this._updateWheelZoom.bind(this)))}}}),o.Map.addInitHook("addHandler","smoothWheelZoom",o.Map.SmoothWheelZoom)}let X;var J,ne,he,pe,me,x,we,ge,Pe,_e,De,Me,Ae,Ne;const Se=class Se{constructor(){Q(this,J);Q(this,ne,null);Q(this,he,new Map);Q(this,pe);Q(this,me,sn());Q(this,x);Q(this,we,!1);Q(this,ge);je(this,"updateBounds",Pn(()=>{if(Y(this,x,X.latLngBounds()),C(this,J).eachLayer(e=>{(e instanceof X.Marker||e instanceof X.CircleMarker||e instanceof X.GeoJSON)&&C(this,x).extend(e.getBounds?e.getBounds():e.getLatLng())}),C(this,x).isValid())C(this,J).fitBounds(C(this,x),{maxZoom:12}),C(this,ge)&&C(this,J).setZoom(C(this,ge));else throw console.error("Bounds are invalid!",C(this,x)),new Error("Bounds are invalid!")},100));Q(this,_e,Ee(new Map));je(this,"allGeoJsonLoaded",Ue(C(this,_e),e=>Array.from(e.values()).every(Boolean)));Q(this,De,Ee("bottomLeft"));Q(this,Me,Ee([]));Q(this,Ae,[]);Q(this,Ne,Ee(void 0));Y(this,ne,null),Y(this,he,new Map)}get initPromise(){return C(this,me).promise}get mapEl(){return C(this,pe)}async init(e,t,n,i,l=!1,a){if(X||(C(this,me).start(),X=await Sn(()=>import("../chunks/leaflet-src.Cygp5nUw.js").then(s=>s.l),__vite__mapDeps([0,1,2,3,4,5,6,7])).then(s=>{const u=s.default;return Mn(u),u}).catch(s=>{C(this,me).reject(s)})),Y(this,ge,i),C(this,pe)){const s=new Error("Evidence Map already initialized");throw C(this,me).reject(s),s}Y(this,pe,e),Y(this,J,X.map(C(this,pe),{zoomControl:!1,scrollWheelZoom:!1,smoothWheelZoom:!0,smoothSensitivity:5}).setView(n,i??5)),l&&Y(this,we,!0);const r=this.processBasemapUrl(t);X.tileLayer(r,{subdomains:"abcd",maxZoom:20,attribution:a}).addTo(C(this,J)),a||C(this,J).removeControl(C(this,J).attributionControl),Y(this,x,X.latLngBounds()),C(this,me).resolve()}cleanup(){C(this,J).remove()}addArea(e,t,n,i,l,a,r,s,u){if(!X)throw new Error("Leaflet is not yet available");this.lastSelectedLayer||(this.lastSelectedLayer=null),this.originalStyles||(this.originalStyles=new Map);const f=X.geoJSON(n,{...i,onEachFeature:(m,d)=>{this.originalStyles.set(d,i),d.on("click",()=>{this.lastSelectedLayer===d?(d.setStyle(this.originalStyles.get(d)),s(e,t),this.lastSelectedLayer=null):(this.lastSelectedLayer&&this.lastSelectedLayer.setStyle(this.originalStyles.get(this.lastSelectedLayer)),d.bringToFront(),d.setStyle(l),r(e,t),this.lastSelectedLayer=d),a(m),u&&(window.location.href=u)})}}).addTo(C(this,J));return C(this,x).extend(f.getBounds()),C(this,we)?C(this,J).setZoom(C(this,ge)??5):this.updateBounds(),f.bringToBack(),f}addCircle(e,t,n,i,l,a,r,s,u){if(!X)throw new Error("Leaflet is not yet available");C(this,J).getPane(n.pane)||(C(this,J).createPane(n.pane),C(this,Ae).forEach((m,d)=>{m===n.pane&&(C(this,J).getPane(m).style.zIndex=400+d)}));const f=X.circleMarker(l,n);return f.addTo(C(this,J)),this.updateMarkerStyle(f,n),f.on("click",()=>{if(a(),C(this,ne)===f){const m={...C(this,he).get(f)};this.updateMarkerStyle(f,m),Y(this,ne,null),s(t),a(null)}else{if(C(this,ne)){const m={...C(this,he).get(C(this,ne))};this.updateMarkerStyle(C(this,ne),m)}this.updateMarkerStyle(f,i),Y(this,ne,f),r(e,t),a(f)}f.bringToFront(),u&&(window.location.href=u)}),l&&Array.isArray(l)&&l.length===2&&!C(this,we)?(C(this,x).extend(l),this.updateBounds()):C(this,J).setZoom(C(this,ge)??5),f}updateMarkerStyle(e,t){e.setStyle(t),C(this,he).has(e)||C(this,he).set(e,{...t})}buildTooltip(e,t){let n="",i=t.map(l=>({id:l.id,title:l.title??l.id,showColumnName:l.showColumnName===void 0?!0:l.showColumnName,fieldClass:l.fieldClass??"default-field-class",valueClass:l.valueClass??"default-value-class",fmt:l.fmt??"num0",formatColumnTitle:l.formatColumnTitle===void 0&&l.title===void 0?!0:l.formatColumnTitle,contentType:l.contentType??"text",linkLabel:l.linkLabel??void 0}));if(i)for(let l=0;l<i.length;l++)n+=`<div class='flex justify-between items-center ${i[l].rowClass||""}'>`+(i[l].showColumnName?`<span class='font-bold pr-5 ${i[l].fieldClass}'>${i[l].formatColumnTitle?fn(i[l].title):i[l].title}</span>`:"")+(i[l].contentType==="link"?`<a href='${e[i[l].id]}' class='${i[l].valueClass}'>${i[l].linkLabel?i[l].linkLabel:ve(e[i[l].id],i[l].fmt)}</a>`:`<span class='${i[l].valueClass}'>${ve(e[i[l].id],i[l].fmt)}</span>`)+"</div>";return n}attachTooltip(e,t,n,i){i==="hover"?e.bindTooltip(t,n):i==="click"?e.bindPopup(t,n):console.error("tooltipType must be 'hover' or 'click'")}processBasemapUrl(e){const t=window.devicePixelRatio||1;let n=e;return n.includes("{r}")&&(n=n.replace("{r}",t>1?"@2x":"")),n.includes("{ext}")&&(n=n.replace("{ext}","png")),n}get geoJsonData(){return ze(C(this,_e))}async loadGeoJson(e){const t=C(Se,Pe).get(e);if(t)return t;const n=fetch(e).then(l=>l.json()).catch(l=>{C(this,_e).update(a=>(a.delete(e),a)),console.error(`Failed to load GeoJSON at URL '${e}': ${l}`)});C(Se,Pe).set(e,n),C(this,_e).update(l=>l.set(e,null));const i=await n;return C(this,_e).update(l=>(i?l.set(e,i):l.delete(e),l)),i}handleLegendValues(e,t,n){if(n==="categorical"){t=[...new Set(t)];let l=0;for(;e.length<t.length;)l>=e.length&&(l=0),e.push(e[l]),l++}else n==="scalar"&&t.forEach(i=>{typeof i!="number"&&i!==null&&console.error("Scalar legend requires numeric values or null."),typeof i=="number"&&isNaN(i)&&console.error("Scalar legend requires valid numeric values.")});return t}handleFillColor(e,t,n,i,l){if(!t)return jt.blue700;if(e[t])return typeof e[t]=="string"?i[n.indexOf(e[t])]:l(e[t])}updateLegendPosition(e){C(this,De).set(e)}get legendPosition(){let e;return C(this,De).subscribe(t=>e=t)(),e}buildLegend(e,t,n,i,l,a,r,s,u,f){const m=()=>({colorPalette:e,values:t,minValue:n,maxValue:i,legendType:l,valueFmt:a,chartType:r,legendId:s,value:u,legend:f});C(this,Me).update(d=>{const h=d.findIndex(c=>c.legendId===s);return h!==-1?d.map((c,g)=>g===h?{...f,...m()}:c):s!==void 0?[...d,m()]:d})}get legendData(){return ze(C(this,Me))}async initializeData(e,{corordinates:t,value:n,checkInputs:i,min:l,max:a,colorPalette:r,legendType:s,valueFmt:u,chartType:f,legendId:m,legend:d}){await e.fetch(),i(e,t);let h=e.map(_=>_[n]),c=Math.min(...h),g=Math.max(...h),y;return s||(typeof h[0]=="number"?s="scalar":s="categorical"),s&&!r&&(r=s==="categorical"?un:["lightblue","darkblue"],r=r.map(_=>ct(_).hex())),y=ct.scale(r).domain([l??c,a??g]),d&&n&&(h=this.handleLegendValues(r,h,s),this.buildLegend(r,h,c,g,s,u,f,m,n,d)),{values:h,colorPalette:r,colorScale:y}}registerPane(e){return C(this,Ae).push(e),e}handleInternalError(e){e&&C(this,Ne).set(e)}get internalError(){return ze(C(this,Ne))}};J=new WeakMap,ne=new WeakMap,he=new WeakMap,pe=new WeakMap,me=new WeakMap,x=new WeakMap,we=new WeakMap,ge=new WeakMap,Pe=new WeakMap,_e=new WeakMap,De=new WeakMap,Me=new WeakMap,Ae=new WeakMap,Ne=new WeakMap,Q(Se,Pe,new Map);let He=Se;const Rt=Symbol("EvidenceMapContext");function mt(o,e,t){const n=o.slice();return n[7]=e[t],n[9]=t,n}function gt(o){let e,t,n,i,l,a=(o[7]||"No value")+"",r,s,u;return{c(){e=A("div"),t=A("span"),i=j(),l=A("span"),r=ie(a),u=j(),this.h()},l(f){e=N(f,"DIV",{class:!0});var m=O(e);t=N(m,"SPAN",{class:!0,style:!0}),O(t).forEach(k),i=z(m),l=N(m,"SPAN",{class:!0,title:!0});var d=O(l);r=le(d,a),d.forEach(k),u=z(m),m.forEach(k),this.h()},h(){v(t,"class",n="inline-block h-[8px] "+(o[0].chartType==="Area Map"?"":"rounded-full")+" w-[8px]"),oe(t,"background-color",o[0].colorPalette[o[9]]),v(l,"class","inline-block ml-2 truncate max-w-[calc(100%-16px)]"),v(l,"title",s=o[7]),v(e,"class","flex items-center")},m(f,m){M(f,e,m),S(e,t),S(e,i),S(e,l),S(l,r),S(e,u)},p(f,m){m&1&&n!==(n="inline-block h-[8px] "+(f[0].chartType==="Area Map"?"":"rounded-full")+" w-[8px]")&&v(t,"class",n),m&1&&oe(t,"background-color",f[0].colorPalette[f[9]]),m&1&&a!==(a=(f[7]||"No value")+"")&&Le(r,a),m&1&&s!==(s=f[7])&&v(l,"title",s)},d(f){f&&k(e)}}}function An(o){let e,t,n,i,l,a,r,s,u,f=be(o[0].values),m=[];for(let d=0;d<f.length;d+=1)m[d]=gt(mt(o,f,d));return{c(){e=A("div"),t=A("div"),n=A("div"),i=A("p"),l=ie(o[3]),a=j(),r=A("div");for(let d=0;d<m.length;d+=1)m[d].c();this.h()},l(d){e=N(d,"DIV",{class:!0});var h=O(e);t=N(h,"DIV",{style:!0,class:!0});var c=O(t);n=N(c,"DIV",{class:!0});var g=O(n);i=N(g,"P",{});var y=O(i);l=le(y,o[3]),y.forEach(k),g.forEach(k),a=z(c),r=N(c,"DIV",{class:!0});var _=O(r);for(let p=0;p<m.length;p+=1)m[p].l(_);_.forEach(k),c.forEach(k),h.forEach(k),this.h()},h(){v(n,"class","flex flex-wrap flex-col font-semibold"),v(r,"class","text-xs pr-1 w-full"),v(t,"style",s=`max-height: ${o[1]?"0px":`${o[2]-50}px`};`),v(t,"class",u="scrollbox flex flex-col transition-[opacity, max-height, overflow-y] duration-[350ms] ease-in-out w-full min-w-24 "+(o[4]?"overflow-y-auto":"overflow-hidden")+" "+(o[1]?"opacity-0":"")+" svelte-nu4nn8"),v(e,"class","flex w-full")},m(d,h){M(d,e,h),S(e,t),S(t,n),S(n,i),S(i,l),S(t,a),S(t,r);for(let c=0;c<m.length;c+=1)m[c]&&m[c].m(r,null)},p(d,[h]){if(h&1){f=be(d[0].values);let c;for(c=0;c<f.length;c+=1){const g=mt(d,f,c);m[c]?m[c].p(g,h):(m[c]=gt(g),m[c].c(),m[c].m(r,null))}for(;c<m.length;c+=1)m[c].d(1);m.length=f.length}h&6&&s!==(s=`max-height: ${d[1]?"0px":`${d[2]-50}px`};`)&&v(t,"style",s),h&2&&u!==(u="scrollbox flex flex-col transition-[opacity, max-height, overflow-y] duration-[350ms] ease-in-out w-full min-w-24 "+(d[4]?"overflow-y-auto":"overflow-hidden")+" "+(d[1]?"opacity-0":"")+" svelte-nu4nn8")&&v(t,"class",u)},i:Z,o:Z,d(d){d&&k(e),Qe(m,d)}}}function Nn(o,e,t){let{legend:n}=e,{hideLegend:i=!1}=e,{height:l=300}=e,{capitalize:a}=e,r=a(n.value)||"No value",u=n.values.length*16>l-50;return o.$$set=f=>{"legend"in f&&t(0,n=f.legend),"hideLegend"in f&&t(1,i=f.hideLegend),"height"in f&&t(2,l=f.height),"capitalize"in f&&t(5,a=f.capitalize)},[n,i,l,r,u,a]}class Zn extends re{constructor(e){super(),se(this,e,Nn,An,ae,{legend:0,hideLegend:1,height:2,capitalize:5})}}function On(o){let e,t,n,i,l,a,r,s,u,f,m=(o[0].valueFmt?ve(o[0].minValue,o[0].valueFmt):o[0].minValue)+"",d,h,c,g=(o[0].valueFmt?ve(o[0].maxValue,o[0].valueFmt):o[0].maxValue)+"",y,_;return{c(){e=A("div"),t=A("div"),n=A("span"),i=ie(o[4]),l=j(),a=A("div"),r=A("span"),s=j(),u=A("div"),f=A("span"),d=ie(m),h=j(),c=A("span"),y=ie(g),this.h()},l(p){e=N(p,"DIV",{class:!0});var T=O(e);t=N(T,"DIV",{class:!0});var w=O(t);n=N(w,"SPAN",{});var L=O(n);i=le(L,o[4]),L.forEach(k),w.forEach(k),l=z(T),a=N(T,"DIV",{class:!0});var V=O(a);r=N(V,"SPAN",{style:!0,class:!0});var W=O(r);W.forEach(k),s=z(V),u=N(V,"DIV",{class:!0});var B=O(u);f=N(B,"SPAN",{class:!0});var I=O(f);d=le(I,m),I.forEach(k),h=z(B),c=N(B,"SPAN",{class:!0});var te=O(c);y=le(te,g),te.forEach(k),B.forEach(k),V.forEach(k),T.forEach(k),this.h()},h(){v(t,"class","flex flex-wrap flex-col font-semibold"),oe(r,"background",o[0].colorPalette?`linear-gradient(to right, ${o[0].colorPalette.join(", ")})`:"white"),v(r,"class","relative h-2 min-w-56"),v(f,"class","text-[10px] inline-block"),v(c,"class","text-[10px] inline-block"),v(u,"class","flex justify-between"),v(a,"class","flex flex-col justify-center overflow-hidden h-8 w-full"),v(e,"class",_="flex flex-col "+(o[1]?o[2]:o[3])+" transition-[opacity, max-height, overflow-y] duration-[350ms] ease-in-out w-full")},m(p,T){M(p,e,T),S(e,t),S(t,n),S(n,i),S(e,l),S(e,a),S(a,r),S(a,s),S(a,u),S(u,f),S(f,d),S(u,h),S(u,c),S(c,y)},p(p,[T]){T&1&&oe(r,"background",p[0].colorPalette?`linear-gradient(to right, ${p[0].colorPalette.join(", ")})`:"white"),T&1&&m!==(m=(p[0].valueFmt?ve(p[0].minValue,p[0].valueFmt):p[0].minValue)+"")&&Le(d,m),T&1&&g!==(g=(p[0].valueFmt?ve(p[0].maxValue,p[0].valueFmt):p[0].maxValue)+"")&&Le(y,g),T&2&&_!==(_="flex flex-col "+(p[1]?p[2]:p[3])+" transition-[opacity, max-height, overflow-y] duration-[350ms] ease-in-out w-full")&&v(e,"class",_)},i:Z,o:Z,d(p){p&&k(e)}}}function Fn(o,e,t){let{legend:n}=e,{hideLegend:i=!1}=e,{capitalize:l}=e,a="max-h-[0px] opacity-0",r="max-h-[300px]",s=l(n.value);return o.$$set=u=>{"legend"in u&&t(0,n=u.legend),"hideLegend"in u&&t(1,i=u.hideLegend),"capitalize"in u&&t(5,l=u.capitalize)},[n,i,a,r,s,l]}class Vn extends re{constructor(e){super(),se(this,e,Fn,On,ae,{legend:0,hideLegend:1,capitalize:5})}}function Bn(o){let e,t,n,i,l,a,r=o[0]?"Show Legend":"Hide Legend",s,u,f;return{c(){e=A("button"),t=ft("svg"),n=ft("polyline"),l=j(),a=A("span"),s=ie(r),this.h()},l(m){e=N(m,"BUTTON",{class:!0,"aria-label":!0});var d=O(e);t=ut(d,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var h=O(t);n=ut(h,"polyline",{points:!0}),O(n).forEach(k),h.forEach(k),l=z(d),a=N(d,"SPAN",{class:!0});var c=O(a);s=le(c,r),c.forEach(k),d.forEach(k),this.h()},h(){v(n,"points","14 17 10 12 14 7"),v(t,"xmlns","http://www.w3.org/2000/svg"),v(t,"width",`8
		`),v(t,"height","8"),v(t,"viewBox","6 6 12 12"),v(t,"fill","none"),v(t,"stroke","#374151"),v(t,"stroke-width","1"),v(t,"stroke-linecap","round"),v(t,"stroke-linejoin","round"),v(t,"class",i="transform transition-transform duration-300 ease-in-out text-left gray-500 "+(o[0]?o[3][o[2]].hide:o[3][o[2]].show)),v(a,"class","sr-only"),v(e,"class","flex z-[1] items-center px-[8px] py-[1.5px]"),v(e,"aria-label","Toggle Legend")},m(m,d){M(m,e,d),S(e,t),S(t,n),S(e,l),S(e,a),S(a,s),u||(f=[Ie(e,"click",function(){nn(o[1])&&o[1].apply(this,arguments)}),Ie(e,"dblclick",jn)],u=!0)},p(m,[d]){o=m,d&5&&i!==(i="transform transition-transform duration-300 ease-in-out text-left gray-500 "+(o[0]?o[3][o[2]].hide:o[3][o[2]].show))&&v(t,"class",i),d&1&&r!==(r=o[0]?"Show Legend":"Hide Legend")&&Le(s,r)},i:Z,o:Z,d(m){m&&k(e),u=!1,At(f)}}}const jn=o=>o.stopPropagation();function zn(o,e,t){let{hideLegend:n=!1}=e,{handleLegendToggle:i}=e,{legendPosition:l="bottomLeft"}=e,a="down";l.includes("top")?a="up":l.includes("bottom")&&(a="down");const r={down:{show:"rotate-[270deg]",hide:"rotate-90"},up:{show:"rotate-90",hide:"rotate-[270deg]"}};return o.$$set=s=>{"hideLegend"in s&&t(0,n=s.hideLegend),"handleLegendToggle"in s&&t(1,i=s.handleLegendToggle),"legendPosition"in s&&t(4,l=s.legendPosition)},[n,i,a,r,l]}class Wn extends re{constructor(e){super(),se(this,e,zn,Bn,ae,{hideLegend:0,handleLegendToggle:1,legendPosition:4})}}function _t(o,e,t){const n=o.slice();return n[14]=e[t],n}function bt(o,e,t){const n=o.slice();return n[14]=e[t],n}function kt(o){let e,t,n,i,l,a,r,s,u,f,m,d,h=o[4].length>0&&pt(o),c=o[5].length>0&&vt(o);return r=new Wn({props:{handleLegendToggle:o[11],hideLegend:o[6],multiLegend:o[7],legendPosition:o[1]}}),{c(){e=A("div"),t=A("div"),h&&h.c(),n=j(),c&&c.c(),l=j(),a=A("div"),U(r.$$.fragment),this.h()},l(g){e=N(g,"DIV",{class:!0,role:!0});var y=O(e);t=N(y,"DIV",{class:!0});var _=O(t);h&&h.l(_),n=z(_),c&&c.l(_),_.forEach(k),l=z(y),a=N(y,"DIV",{class:!0});var p=O(a);R(r.$$.fragment,p),p.forEach(k),y.forEach(k),this.h()},h(){v(t,"class",i="bg-white background-blur "+o[13][o[1]]+" svelte-168cccw"),v(a,"class",s="bg-white background-blur flex justify-center w-fit transition-[border-radius] ease-in-out "+(o[1].includes("bottom")?"shadow-bottom":"")+" svelte-168cccw"),de(a,"rounded",o[6]),de(a,"delay-[225ms]",o[6]),de(a,"rounded-b",!o[6]&&o[1].includes("bottom")),de(a,"rounded-t",!o[6]&&!o[1].includes("bottom")),v(e,"class",u="absolute z-[401] m-4 flex max-w-60 flex legend-font "+o[12]()+" "+(o[9][o[1]]??"top-3 left-[-9px]")+" svelte-168cccw"),v(e,"role","group")},m(g,y){M(g,e,y),S(e,t),h&&h.m(t,null),S(t,n),c&&c.m(t,null),S(e,l),S(e,a),H(r,a,null),f=!0,m||(d=[Ie(e,"wheel",Jn),Ie(e,"dblclick",Un)],m=!0)},p(g,y){g[4].length>0?h?(h.p(g,y),y&16&&E(h,1)):(h=pt(g),h.c(),E(h,1),h.m(t,n)):h&&($(),D(h,1,1,()=>{h=null}),ee()),g[5].length>0?c?(c.p(g,y),y&32&&E(c,1)):(c=vt(g),c.c(),E(c,1),c.m(t,null)):c&&($(),D(c,1,1,()=>{c=null}),ee()),(!f||y&2&&i!==(i="bg-white background-blur "+g[13][g[1]]+" svelte-168cccw"))&&v(t,"class",i);const _={};y&64&&(_.hideLegend=g[6]),y&128&&(_.multiLegend=g[7]),y&2&&(_.legendPosition=g[1]),r.$set(_),(!f||y&2&&s!==(s="bg-white background-blur flex justify-center w-fit transition-[border-radius] ease-in-out "+(g[1].includes("bottom")?"shadow-bottom":"")+" svelte-168cccw"))&&v(a,"class",s),(!f||y&66)&&de(a,"rounded",g[6]),(!f||y&66)&&de(a,"delay-[225ms]",g[6]),(!f||y&66)&&de(a,"rounded-b",!g[6]&&g[1].includes("bottom")),(!f||y&66)&&de(a,"rounded-t",!g[6]&&!g[1].includes("bottom")),(!f||y&2&&u!==(u="absolute z-[401] m-4 flex max-w-60 flex legend-font "+g[12]()+" "+(g[9][g[1]]??"top-3 left-[-9px]")+" svelte-168cccw"))&&v(e,"class",u)},i(g){f||(E(h),E(c),E(r.$$.fragment,g),f=!0)},o(g){D(h),D(c),D(r.$$.fragment,g),f=!1},d(g){g&&k(e),h&&h.d(),c&&c.d(),G(r),m=!1,At(d)}}}function pt(o){let e,t,n=be(o[4]),i=[];for(let a=0;a<n.length;a+=1)i[a]=yt(bt(o,n,a));const l=a=>D(i[a],1,1,()=>{i[a]=null});return{c(){e=A("div");for(let a=0;a<i.length;a+=1)i[a].c();this.h()},l(a){e=N(a,"DIV",{class:!0});var r=O(e);for(let s=0;s<i.length;s+=1)i[s].l(r);r.forEach(k),this.h()},h(){v(e,"class","flex flex-wrap hover:cursor-default")},m(a,r){M(a,e,r);for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(e,null);t=!0},p(a,r){if(r&2260){n=be(a[4]);let s;for(s=0;s<n.length;s+=1){const u=bt(a,n,s);i[s]?(i[s].p(u,r),E(i[s],1)):(i[s]=yt(u),i[s].c(),E(i[s],1),i[s].m(e,null))}for($(),s=n.length;s<i.length;s+=1)l(s);ee()}},i(a){if(!t){for(let r=0;r<n.length;r+=1)E(i[r]);t=!0}},o(a){i=i.filter(Boolean);for(let r=0;r<i.length;r+=1)D(i[r]);t=!1},d(a){a&&k(e),Qe(i,a)}}}function yt(o){let e,t,n,i,l;return t=new Zn({props:{height:o[2],legend:o[14],handleLegendToggle:o[11],hideLegend:o[6],multiLegend:o[7],capitalize:Ht}}),{c(){e=A("div"),U(t.$$.fragment),n=j(),this.h()},l(a){e=N(a,"DIV",{class:!0});var r=O(e);R(t.$$.fragment,r),n=z(r),r.forEach(k),this.h()},h(){v(e,"class",i="border-l first:border-none flex transition-[border, padding] ease-in-out ease-in-out duration-[350ms] px-2 truncate "+(o[7]?"w-1/2":"max-w-48")+" "+(o[6]?" py-0":" py-1"))},m(a,r){M(a,e,r),H(t,e,null),S(e,n),l=!0},p(a,r){const s={};r&4&&(s.height=a[2]),r&16&&(s.legend=a[14]),r&64&&(s.hideLegend=a[6]),r&128&&(s.multiLegend=a[7]),t.$set(s),(!l||r&192&&i!==(i="border-l first:border-none flex transition-[border, padding] ease-in-out ease-in-out duration-[350ms] px-2 truncate "+(a[7]?"w-1/2":"max-w-48")+" "+(a[6]?" py-0":" py-1")))&&v(e,"class",i)},i(a){l||(E(t.$$.fragment,a),l=!0)},o(a){D(t.$$.fragment,a),l=!1},d(a){a&&k(e),G(t)}}}function vt(o){let e,t,n=be(o[5]),i=[];for(let a=0;a<n.length;a+=1)i[a]=wt(_t(o,n,a));const l=a=>D(i[a],1,1,()=>{i[a]=null});return{c(){for(let a=0;a<i.length;a+=1)i[a].c();e=q()},l(a){for(let r=0;r<i.length;r+=1)i[r].l(a);e=q()},m(a,r){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(a,r);M(a,e,r),t=!0},p(a,r){if(r&2272){n=be(a[5]);let s;for(s=0;s<n.length;s+=1){const u=_t(a,n,s);i[s]?(i[s].p(u,r),E(i[s],1)):(i[s]=wt(u),i[s].c(),E(i[s],1),i[s].m(e.parentNode,e))}for($(),s=n.length;s<i.length;s+=1)l(s);ee()}},i(a){if(!t){for(let r=0;r<n.length;r+=1)E(i[r]);t=!0}},o(a){i=i.filter(Boolean);for(let r=0;r<i.length;r+=1)D(i[r]);t=!1},d(a){a&&k(e),Qe(i,a)}}}function wt(o){let e,t,n,i,l;return t=new Vn({props:{legend:o[14],handleLegendToggle:o[11],hideLegend:o[6],multiLegend:o[7],capitalize:Ht}}),{c(){e=A("div"),U(t.$$.fragment),n=j(),this.h()},l(a){e=N(a,"DIV",{class:!0});var r=O(e);R(t.$$.fragment,r),n=z(r),r.forEach(k),this.h()},h(){v(e,"class",i="border-t first:border-none overflow-hidden transition-[border, padding] duration-[350ms] ease-in-out px-2 "+(o[6]?"py-0 border-none":"py-1"))},m(a,r){M(a,e,r),H(t,e,null),S(e,n),l=!0},p(a,r){const s={};r&32&&(s.legend=a[14]),r&64&&(s.hideLegend=a[6]),r&128&&(s.multiLegend=a[7]),t.$set(s),(!l||r&64&&i!==(i="border-t first:border-none overflow-hidden transition-[border, padding] duration-[350ms] ease-in-out px-2 "+(a[6]?"py-0 border-none":"py-1")))&&v(e,"class",i)},i(a){l||(E(t.$$.fragment,a),l=!0)},o(a){D(t.$$.fragment,a),l=!1},d(a){a&&k(e),G(t)}}}function qn(o){let e,t,n=o[8].length>0&&kt(o);return{c(){n&&n.c(),e=q()},l(i){n&&n.l(i),e=q()},m(i,l){n&&n.m(i,l),M(i,e,l),t=!0},p(i,[l]){i[8].length>0?n?(n.p(i,l),l&256&&E(n,1)):(n=kt(i),n.c(),E(n,1),n.m(e.parentNode,e)):n&&($(),D(n,1,1,()=>{n=null}),ee())},i(i){t||(E(n),t=!0)},o(i){D(n),t=!1},d(i){i&&k(e),n&&n.d(i)}}}function Ht(o){return o&&o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()}const Jn=o=>o.stopPropagation(),Un=o=>o.stopPropagation();function Rn(o,e,t){let n,i,l=Z,a=()=>(l(),l=We(g,L=>t(4,i=L)),g),r,s,u=Z,f=()=>(u(),u=We(d,L=>t(8,s=L)),d);o.$$.on_destroy.push(()=>l()),o.$$.on_destroy.push(()=>u());const m={topLeft:"top-[-9px] left-[-9px]",topRight:"top-[-9px] right-[-9px]",bottomLeft:"bottom-[-9px] left-[-9px]",bottomRight:"bottom-[-9px] right-[-9px] "};let{legendData:d}=e;f();let{legendPosition:h="bottomLeft"}=e,{height:c=300}=e,{categoricalLegendData:g=Ue(d,L=>L.filter(V=>V.legendType==="categorical"))}=e;a();let y=Ue(d,L=>L.filter(V=>V.legendType==="scalar"));ye(o,y,L=>t(5,r=L));let _=!1;const p=()=>{t(6,_=!_)},T=()=>{let L="";return h.includes("bottom")?L+="flex-col":L+="flex-col-reverse",h.includes("Right")&&(L+=" items-end"),L},w={bottomLeft:"rounded-t rounded-br shadow-bottom-right",bottomRight:"rounded-t rounded-bl shadow-bottom-left",topLeft:"rounded-b rounded-tr z-[405] shadow-bottom",topRight:"rounded-b rounded-tl z-[405] shadow-bottom"};return o.$$set=L=>{"legendData"in L&&f(t(0,d=L.legendData)),"legendPosition"in L&&t(1,h=L.legendPosition),"height"in L&&t(2,c=L.height),"categoricalLegendData"in L&&a(t(3,g=L.categoricalLegendData))},o.$$.update=()=>{o.$$.dirty&48&&t(7,n=i.length>1||r.length>1||r.length>0&&i.length>0)},[d,h,c,g,i,r,_,n,s,m,y,p,T,w]}class Hn extends re{constructor(e){super(),se(this,e,Rn,qn,ae,{legendData:0,legendPosition:1,height:2,categoricalLegendData:3})}}function Gn(o){let e,t,n,i,l,a,r,s,u,f=o[1]&&Lt(o);const m=o[18].default,d=Zt(m,o,o[17],null);let h=o[6]&&Tt(o),c=!o[7]&&Ct(o);return{c(){e=A("div"),f&&f.c(),t=j(),n=A("div"),i=A("div"),d&&d.c(),l=j(),h&&h.c(),a=j(),c&&c.c(),this.h()},l(g){e=N(g,"DIV",{class:!0});var y=O(e);f&&f.l(y),t=z(y),n=N(y,"DIV",{class:!0,style:!0});var _=O(n);i=N(_,"DIV",{class:!0});var p=O(i);d&&d.l(p),p.forEach(k),l=z(_),h&&h.l(_),_.forEach(k),a=z(y),c&&c.l(y),y.forEach(k),this.h()},h(){v(i,"class","svelte-tuhe9b"),v(n,"class","z-0 rounded-md focus:outline-none svelte-tuhe9b"),oe(n,"height",o[0]+"px"),v(e,"class","relative break-inside-avoid svelte-tuhe9b")},m(g,y){M(g,e,y),f&&f.m(e,null),S(e,t),S(e,n),S(n,i),d&&d.m(i,null),S(n,l),h&&h.m(n,null),o[20](n),S(e,a),c&&c.m(e,null),r=!0,s||(u=Ie(i,"dispatcherror",o[19]),s=!0)},p(g,y){g[1]?f?f.p(g,y):(f=Lt(g),f.c(),f.m(e,t)):f&&(f.d(1),f=null),d&&d.p&&(!r||y&131072)&&Ot(d,m,g,g[17],r?Vt(m,g[17],y,null):Ft(g[17]),null),g[6]?h?(h.p(g,y),y&64&&E(h,1)):(h=Tt(g),h.c(),E(h,1),h.m(n,null)):h&&($(),D(h,1,1,()=>{h=null}),ee()),(!r||y&1)&&oe(n,"height",g[0]+"px"),g[7]?c&&($(),D(c,1,1,()=>{c=null}),ee()):c?(c.p(g,y),y&128&&E(c,1)):(c=Ct(g),c.c(),E(c,1),c.m(e,null))},i(g){r||(E(d,g),E(h),E(c),r=!0)},o(g){D(d,g),D(h),D(c),r=!1},d(g){g&&k(e),f&&f.d(),d&&d.d(g),h&&h.d(),o[20](null),c&&c.d(),s=!1,u()}}}function Qn(o){let e,t;return e=new zt({props:{error:o[5],chartType:o[3]}}),{c(){U(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p(n,i){const l={};i&32&&(l.error=n[5]),i&8&&(l.chartType=n[3]),e.$set(l)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Lt(o){let e,t;return{c(){e=A("h4"),t=ie(o[1]),this.h()},l(n){e=N(n,"H4",{class:!0});var i=O(e);t=le(i,o[1]),i.forEach(k),this.h()},h(){v(e,"class","markdown mb-2")},m(n,i){M(n,e,i),S(e,t)},p(n,i){i&2&&Le(t,n[1])},d(n){n&&k(e)}}}function Tt(o){let e,t;return e=new Hn({props:{legendData:o[9],legendPosition:o[2],height:o[0]}}),{c(){U(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p(n,i){const l={};i&4&&(l.legendPosition=n[2]),i&1&&(l.height=n[0]),e.$set(l)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Ct(o){let e,t,n;return t=new cn({}),{c(){e=A("div"),U(t.$$.fragment),this.h()},l(i){e=N(i,"DIV",{class:!0,style:!0});var l=O(e);R(t.$$.fragment,l),l.forEach(k),this.h()},h(){v(e,"class","absolute left-0 right-0 bottom-0 w-full *:m-0 bg-white svelte-tuhe9b"),oe(e,"height",o[0]+"px")},m(i,l){M(i,e,l),H(t,e,null),n=!0},p(i,l){(!n||l&1)&&oe(e,"height",i[0]+"px")},i(i){n||(E(t.$$.fragment,i),n=!0)},o(i){D(t.$$.fragment,i),n=!1},d(i){i&&k(e),G(t)}}}function Kn(o){let e,t,n,i;const l=[Qn,Gn],a=[];function r(s,u){return s[5]?0:1}return e=r(o),t=a[e]=l[e](o),{c(){t.c(),n=q()},l(s){t.l(s),n=q()},m(s,u){a[e].m(s,u),M(s,n,u),i=!0},p(s,[u]){let f=e;e=r(s),e===f?a[e].p(s,u):($(),D(a[f],1,1,()=>{a[f]=null}),ee(),t=a[e],t?t.p(s,u):(t=a[e]=l[e](s),t.c()),E(t,1),t.m(n.parentNode,n))},i(s){i||(E(t),i=!0)},o(s){D(t),i=!1},d(s){s&&k(n),a[e].d(s)}}}const Xn=39.077;function Yn(o,e,t){let n,i,l,{$$slots:a={},$$scope:r}=e,s,{startingLat:u=void 0}=e,{startingLong:f=void 0}=e,{startingZoom:m=void 0}=e;const d=-180,h=u||f;let{height:c=300}=e,{basemap:g=void 0}=e,{title:y=void 0}=e,_,{attribution:p=void 0}=e;const T=new He;Nt(Rt,T);const w=T.allGeoJsonLoaded;ye(o,w,P=>t(7,l=P));let L=T.legendData;ye(o,L,P=>t(6,i=P));let{legendPosition:V="bottomLeft"}=e,W=T.internalError;ye(o,W,P=>t(16,n=P));let{chartType:B="Map"}=e;Ke(async()=>{try{const P=u??!1?[u,f]:[Xn,d];return await T.init(s,g??"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",P,m,h,p),()=>T.cleanup()}catch(P){t(5,_=P.message),console.error(P)}});const I=P=>t(5,_=P.detail);function te(P){ln[P?"unshift":"push"](()=>{s=P,t(4,s)})}return o.$$set=P=>{"startingLat"in P&&t(11,u=P.startingLat),"startingLong"in P&&t(12,f=P.startingLong),"startingZoom"in P&&t(13,m=P.startingZoom),"height"in P&&t(0,c=P.height),"basemap"in P&&t(14,g=P.basemap),"title"in P&&t(1,y=P.title),"attribution"in P&&t(15,p=P.attribution),"legendPosition"in P&&t(2,V=P.legendPosition),"chartType"in P&&t(3,B=P.chartType),"$$scope"in P&&t(17,r=P.$$scope)},o.$$.update=()=>{o.$$.dirty&4&&V&&T.updateLegendPosition(V),o.$$.dirty&65536&&console.log(n),o.$$.dirty&65536&&n!==void 0&&t(5,_=n)},[c,y,V,B,s,_,i,l,w,L,W,u,f,m,g,p,n,r,a,I,te]}class xn extends re{constructor(e){super(),se(this,e,Yn,Kn,ae,{startingLat:11,startingLong:12,startingZoom:13,height:0,basemap:14,title:1,attribution:15,legendPosition:2,chartType:3})}}function $n(o,e,t){let{map:n=void 0}=e,{feature:i=void 0}=e,{areaOptions:l=void 0}=e,{selectedAreaOptions:a=void 0}=e,{onclick:r=void 0}=e,{setInput:s=void 0}=e,{unsetInput:u=void 0}=e,{item:f=void 0}=e,{tooltip:m=void 0}=e,{tooltipOptions:d=void 0}=e,{tooltipType:h=void 0}=e,{showTooltip:c=void 0}=e,{link:g=void 0}=e,{name:y=void 0}=e;return Ke(()=>{const _=n.addArea(f,y,i,l,a,r,s,u,f[g]);if(c){const p=n.buildTooltip(f,m);n.attachTooltip(_,p,d,h)}return()=>_.remove()}),o.$$set=_=>{"map"in _&&t(0,n=_.map),"feature"in _&&t(1,i=_.feature),"areaOptions"in _&&t(2,l=_.areaOptions),"selectedAreaOptions"in _&&t(3,a=_.selectedAreaOptions),"onclick"in _&&t(4,r=_.onclick),"setInput"in _&&t(5,s=_.setInput),"unsetInput"in _&&t(6,u=_.unsetInput),"item"in _&&t(7,f=_.item),"tooltip"in _&&t(8,m=_.tooltip),"tooltipOptions"in _&&t(9,d=_.tooltipOptions),"tooltipType"in _&&t(10,h=_.tooltipType),"showTooltip"in _&&t(11,c=_.showTooltip),"link"in _&&t(12,g=_.link),"name"in _&&t(13,y=_.name)},[n,i,l,a,r,s,u,f,m,d,h,c,g,y]}class ei extends re{constructor(e){super(),se(this,e,$n,null,ae,{map:0,feature:1,areaOptions:2,selectedAreaOptions:3,onclick:4,setInput:5,unsetInput:6,item:7,tooltip:8,tooltipOptions:9,tooltipType:10,showTooltip:11,link:12,name:13})}}function Et(o,e,t){const n=o.slice();n[47]=e[t];const i=n[24].find(function(...a){return o[42](n[47],...a)});return n[48]=i,n}function ti(o){return{c:Z,l:Z,m:Z,p:Z,i:Z,o:Z,d:Z}}function ni(o){let e,t,n={ctx:o,current:null,token:null,hasCatch:!0,pending:oi,then:li,catch:ii,error:51,blocks:[,,,]};return Re(o[28](),n),{c(){e=q(),n.block.c()},l(i){e=q(),n.block.l(i)},m(i,l){M(i,e,l),n.block.m(i,n.anchor=l),n.mount=()=>e.parentNode,n.anchor=e,t=!0},p(i,l){o=i,Ut(n,o,l)},i(i){t||(E(n.block),t=!0)},o(i){for(let l=0;l<3;l+=1){const a=n.blocks[l];D(a)}t=!1},d(i){i&&k(e),n.block.d(i),n.token=null,n=null}}}function ii(o){let e=o[26].handleInternalError(o[51])+"",t;return{c(){t=ie(e)},l(n){t=le(n,e)},m(n,i){M(n,t,i)},p:Z,i:Z,o:Z,d(n){n&&k(t)}}}function li(o){let e=[],t=new Map,n,i,l=be(o[23]);const a=r=>r[47].properties[r[7]];for(let r=0;r<l.length;r+=1){let s=Et(o,l,r),u=a(s);t.set(u,e[r]=St(u,s))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();n=q()},l(r){for(let s=0;s<e.length;s+=1)e[s].l(r);n=q()},m(r,s){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(r,s);M(r,n,s),i=!0},p(r,s){s[0]&1845493727&&(l=be(r[23]),$(),e=mn(e,s,a,1,r,l,t,n.parentNode,gn,St,n,Et),ee())},i(r){if(!i){for(let s=0;s<l.length;s+=1)E(e[s]);i=!0}},o(r){for(let s=0;s<e.length;s+=1)D(e[s]);i=!1},d(r){r&&k(n);for(let s=0;s<e.length;s+=1)e[s].d(r)}}}function St(o,e){let t,n,i;function l(){return e[39](e[48])}function a(){return e[40](e[48])}function r(){return e[41](e[48])}return n=new ei({props:{map:e[26],feature:e[47],item:e[48],name:e[10],areaOptions:{fillColor:e[12]??e[26].handleFillColor(e[48],e[8],e[21],e[1],e[22])??e[22](e[48][e[8]]).hex(),fillOpacity:e[2],opacity:e[2],weight:e[0],color:e[13],className:`outline-none ${e[14]}`},selectedAreaOptions:{fillColor:e[15],fillOpacity:e[4],opacity:e[4],weight:e[3],color:e[16],className:`outline-none ${e[17]}`},onclick:l,setInput:a,unsetInput:r,tooltip:e[19],tooltipOptions:e[27],tooltipType:e[20],showTooltip:e[18],link:e[9]}}),{key:o,first:null,c(){t=q(),U(n.$$.fragment),this.h()},l(s){t=q(),R(n.$$.fragment,s),this.h()},h(){this.first=t},m(s,u){M(s,t,u),H(n,s,u),i=!0},p(s,u){e=s;const f={};u[0]&8388608&&(f.feature=e[47]),u[0]&25166016&&(f.item=e[48]),u[0]&1024&&(f.name=e[10]),u[0]&31486407&&(f.areaOptions={fillColor:e[12]??e[26].handleFillColor(e[48],e[8],e[21],e[1],e[22])??e[22](e[48][e[8]]).hex(),fillOpacity:e[2],opacity:e[2],weight:e[0],color:e[13],className:`outline-none ${e[14]}`}),u[0]&229400&&(f.selectedAreaOptions={fillColor:e[15],fillOpacity:e[4],opacity:e[4],weight:e[3],color:e[16],className:`outline-none ${e[17]}`}),u[0]&25168064&&(f.onclick=l),u[0]&25167040&&(f.setInput=a),u[0]&25167040&&(f.unsetInput=r),u[0]&524288&&(f.tooltip=e[19]),u[0]&1048576&&(f.tooltipType=e[20]),u[0]&262144&&(f.showTooltip=e[18]),u[0]&512&&(f.link=e[9]),n.$set(f)},i(s){i||(E(n.$$.fragment,s),i=!0)},o(s){D(n.$$.fragment,s),i=!1},d(s){s&&k(t),G(n,s)}}}function oi(o){return{c:Z,l:Z,m:Z,p:Z,i:Z,o:Z,d:Z}}function ai(o){return{c:Z,l:Z,m:Z,p:Z,i:Z,o:Z,d:Z}}function ri(o){let e,t,n,i={ctx:o,current:null,token:null,hasCatch:!1,pending:ai,then:ni,catch:ti,blocks:[,,,]};return Re(t=Promise.all([o[26].initPromise,o[5].fetch()]),i),{c(){e=q(),i.block.c()},l(l){e=q(),i.block.l(l)},m(l,a){M(l,e,a),i.block.m(l,i.anchor=a),i.mount=()=>e.parentNode,i.anchor=e,n=!0},p(l,a){o=l,i.ctx=o,a[0]&32&&t!==(t=Promise.all([o[26].initPromise,o[5].fetch()]))&&Re(t,i)||Ut(i,o,a)},i(l){n||(E(i.block),n=!0)},o(l){for(let a=0;a<3;a+=1){const r=i.blocks[a];D(r)}n=!1},d(l){l&&k(e),i.block.d(l),i.token=null,i=null}}}function si(o,e,t){let n,i,l=Z,a=()=>(l(),l=We(u,b=>t(24,i=b)),u);o.$$.on_destroy.push(()=>l());const r=Tn();ye(o,r,b=>t(43,n=b));const s=on(Rt);if(!s)throw new Error("Evidence Map Context has not been set. Areas will not function");let{data:u}=e;a();let{geoJsonUrl:f="https://evd-geojson.b-cdn.net/ca_california_zip_codes_geo_1.min.json"}=e,{areaCol:m=void 0}=e,{geoId:d=void 0}=e,{value:h=void 0}=e,{valueFmt:c=void 0}=e,{min:g=void 0}=e,{max:y=void 0}=e,{link:_=void 0}=e,{name:p=void 0}=e,{legendType:T=void 0}=e,{chartType:w="Area Map"}=e,{legend:L=!0}=e,{onclick:V=()=>{}}=e,{borderWidth:W=void 0}=e;if(W){if(W=Number(W),isNaN(W))throw Error("borderWidth must be a number");if(W<0)throw Error("borderWidth cannot be negative")}else W=.75;let{color:B=void 0}=e,{borderColor:I=jt.grey300}=e,{colorPalette:te=void 0}=e,{opacity:P=void 0}=e;if(P){if(P=Number(P),isNaN(P))throw Error("opacity must be a number");if(P<0)throw Error("opacity cannot be negative")}else P=.9;let{areaClass:Xe=void 0}=e,{selectedBorderWidth:ue=1}=e;if(ue){if(ue=Number(ue),isNaN(ue))throw Error("selectedBorderWidth must be a number");if(ue<0)throw Error("selectedBorderWidth cannot be negative")}else ue=.75;let{selectedColor:Ye="#d42a2a"}=e,{selectedBorderColor:xe="#ab1818"}=e,{selectedOpacity:ce=void 0}=e;if(ce){if(ce=Number(ce),isNaN(ce))throw Error("selectedOpacity must be a number");if(ce<0)throw Error("selectedOpacity cannot be negative")}else ce=1;let{selectedAreaClass:$e=void 0}=e,{showTooltip:et=!0}=e,{tooltip:Ce=[]}=e;Ce.length===0&&(m&&Ce.push({id:m,showColumnName:!1,valueClass:"font-bold text-sm",fmt:"id"}),h&&Ce.push({id:h,fmt:c}));let{tooltipClass:Fe=void 0}=e,{tooltipType:tt="hover"}=e;const Gt={permanent:!1,direction:"auto",sticky:!0,opacity:1,className:`${Fe}`,interactive:!0};async function nt(){const b=f,K=await s.loadGeoJson(b);if(!K||f!==b)return;const fe=new Set(u.map(ke=>ke[m].toString()));t(23,it=K==null?void 0:K.features.filter(ke=>fe.has(ke.properties[d])))}let Ve,Be,it=[],Qt=dn();async function Kt(){let b={corordinates:[m],value:h,checkInputs:hn,min:g,max:y,colorPalette:te,legendType:T,valueFmt:c,chartType:w,legendId:Qt,legend:L};await u.fetch(),B||t(21,{values:Ve,colorPalette:te,legendType:T,colorScale:Be}=await s.initializeData(u,b),Ve,t(1,te),t(31,T),t(22,Be)),await nt(),p&&i.length>0&&lt(i[0],p)}function lt(b,K){qe(r,n[K]=Object.fromEntries(Object.keys(b).map(fe=>[fe,!0])),n)}function ot(b,K){qe(r,n[K]=Object.fromEntries(Object.entries(b).map(([fe,ke])=>[fe,typeof ke=="string"?ke.replaceAll("'","''"):ke])),n)}function at(b,K){r.update(fe=>(Object.prototype.hasOwnProperty.call(fe,K)&&delete fe[K],fe)),lt(b,K)}const Xt=b=>{V(b)},Yt=b=>{p&&ot(b,p)},xt=b=>{p&&at(b,p)},$t=(b,K)=>K[m].toString()===b.properties[d];return o.$$set=b=>{"data"in b&&a(t(5,u=b.data)),"geoJsonUrl"in b&&t(32,f=b.geoJsonUrl),"areaCol"in b&&t(6,m=b.areaCol),"geoId"in b&&t(7,d=b.geoId),"value"in b&&t(8,h=b.value),"valueFmt"in b&&t(33,c=b.valueFmt),"min"in b&&t(34,g=b.min),"max"in b&&t(35,y=b.max),"link"in b&&t(9,_=b.link),"name"in b&&t(10,p=b.name),"legendType"in b&&t(31,T=b.legendType),"chartType"in b&&t(36,w=b.chartType),"legend"in b&&t(37,L=b.legend),"onclick"in b&&t(11,V=b.onclick),"borderWidth"in b&&t(0,W=b.borderWidth),"color"in b&&t(12,B=b.color),"borderColor"in b&&t(13,I=b.borderColor),"colorPalette"in b&&t(1,te=b.colorPalette),"opacity"in b&&t(2,P=b.opacity),"areaClass"in b&&t(14,Xe=b.areaClass),"selectedBorderWidth"in b&&t(3,ue=b.selectedBorderWidth),"selectedColor"in b&&t(15,Ye=b.selectedColor),"selectedBorderColor"in b&&t(16,xe=b.selectedBorderColor),"selectedOpacity"in b&&t(4,ce=b.selectedOpacity),"selectedAreaClass"in b&&t(17,$e=b.selectedAreaClass),"showTooltip"in b&&t(18,et=b.showTooltip),"tooltip"in b&&t(19,Ce=b.tooltip),"tooltipClass"in b&&t(38,Fe=b.tooltipClass),"tooltipType"in b&&t(20,tt=b.tooltipType)},o.$$.update=()=>{o.$$.dirty[0]&96|o.$$.dirty[1]&2&&(async()=>(await u.fetch(),await nt()))()},[W,te,P,ue,ce,u,m,d,h,_,p,V,B,I,Xe,Ye,xe,$e,et,Ce,tt,Ve,Be,it,i,r,s,Gt,Kt,ot,at,T,f,c,g,y,w,L,Fe,Xt,Yt,xt,$t]}class fi extends re{constructor(e){super(),se(this,e,si,ri,ae,{data:5,geoJsonUrl:32,areaCol:6,geoId:7,value:8,valueFmt:33,min:34,max:35,link:9,name:10,legendType:31,chartType:36,legend:37,onclick:11,borderWidth:0,color:12,borderColor:13,colorPalette:1,opacity:2,areaClass:14,selectedBorderWidth:3,selectedColor:15,selectedBorderColor:16,selectedOpacity:4,selectedAreaClass:17,showTooltip:18,tooltip:19,tooltipClass:38,tooltipType:20},null,[-1,-1])}}const ui=o=>({data:o&1024}),It=o=>({data:o[10]});function Pt(o){let e,t;return{c(){e=A("h4"),t=ie(o[1]),this.h()},l(n){e=N(n,"H4",{class:!0});var i=O(e);t=le(i,o[1]),i.forEach(k),this.h()},h(){v(e,"class","markdown mb-2")},m(n,i){M(n,e,i),S(e,t)},p(n,i){i&2&&Le(t,n[1])},d(n){n&&k(e)}}}function ci(o){let e;const t=o[8].default,n=Zt(t,o,o[9],It);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,l){n&&n.m(i,l),e=!0},p(i,l){n&&n.p&&(!e||l&1536)&&Ot(n,t,i,i[9],e?Vt(t,i[9],l,ui):Ft(i[9]),It)},i(i){e||(E(n,i),e=!0)},o(i){D(n,i),e=!1},d(i){n&&n.d(i)}}}function di(o){let e,t;const n=[o[7],{title:void 0}];let i={$$slots:{default:[ci]},$$scope:{ctx:o}};for(let l=0;l<n.length;l+=1)i=Te(i,n[l]);return e=new xn({props:i}),{c(){U(e.$$.fragment)},l(l){R(e.$$.fragment,l)},m(l,a){H(e,l,a),t=!0},p(l,a){const r=a&128?Wt(n,[a&128&&qt(l[7]),a&0&&{title:void 0}]):{};a&1536&&(r.$$scope={dirty:a,ctx:l}),e.$set(r)},i(l){t||(E(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){G(e,l)}}}function hi(o){let e,t;return e=new bn({props:{slot:"empty",emptyMessage:o[3],emptySet:o[2],chartType:o[4],isInitial:o[5]}}),{c(){U(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p(n,i){const l={};i&8&&(l.emptyMessage=n[3]),i&4&&(l.emptySet=n[2]),i&16&&(l.chartType=n[4]),i&32&&(l.isInitial=n[5]),e.$set(l)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function mi(o){let e,t;return e=new zt({props:{slot:"error",chartType:o[4],error:o[6]??o[10].error.message}}),{c(){U(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p(n,i){const l={};i&16&&(l.chartType=n[4]),i&1088&&(l.error=n[6]??n[10].error.message),e.$set(l)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function gi(o){let e,t,n,i,l=o[1]&&Pt(o);return n=new _n({props:{data:o[0],$$slots:{error:[mi,({loaded:a})=>({10:a}),({loaded:a})=>a?1024:0],empty:[hi],default:[di,({loaded:a})=>({10:a}),({loaded:a})=>a?1024:0]},$$scope:{ctx:o}}}),{c(){e=A("div"),l&&l.c(),t=j(),U(n.$$.fragment),this.h()},l(a){e=N(a,"DIV",{style:!0});var r=O(e);l&&l.l(r),t=z(r),R(n.$$.fragment,r),r.forEach(k),this.h()},h(){oe(e,"margin-top","15px"),oe(e,"margin-bottom","10px")},m(a,r){M(a,e,r),l&&l.m(e,null),S(e,t),H(n,e,null),i=!0},p(a,[r]){a[1]?l?l.p(a,r):(l=Pt(a),l.c(),l.m(e,t)):l&&(l.d(1),l=null);const s={};r&1&&(s.data=a[0]),r&1788&&(s.$$scope={dirty:r,ctx:a}),n.$set(s)},i(a){i||(E(n.$$.fragment,a),i=!0)},o(a){D(n.$$.fragment,a),i=!1},d(a){a&&k(e),l&&l.d(),G(n)}}}function _i(o,e,t){const n=["data","title","emptySet","emptyMessage","chartType","isInitial","error"];let i=Oe(e,n),{$$slots:l={},$$scope:a}=e,{data:r}=e,{title:s=void 0}=e,{emptySet:u=void 0}=e,{emptyMessage:f=void 0}=e,{chartType:m=void 0}=e,{isInitial:d=!0}=e,{error:h=void 0}=e;return o.$$set=c=>{e=Te(Te({},e),Bt(c)),t(7,i=Oe(e,n)),"data"in c&&t(0,r=c.data),"title"in c&&t(1,s=c.title),"emptySet"in c&&t(2,u=c.emptySet),"emptyMessage"in c&&t(3,f=c.emptyMessage),"chartType"in c&&t(4,m=c.chartType),"isInitial"in c&&t(5,d=c.isInitial),"error"in c&&t(6,h=c.error),"$$scope"in c&&t(9,a=c.$$scope)},[r,s,u,f,m,d,h,i,l,a]}class bi extends re{constructor(e){super(),se(this,e,_i,gi,ae,{data:0,title:1,emptySet:2,emptyMessage:3,chartType:4,isInitial:5,error:6})}}function ki(o){let e,t;const n=[{data:o[15]},{geoJsonUrl:o[2]},{geoId:o[3]},{areaCol:o[4]},{legendType:o[12]},{chartType:Ge},{legend:o[13]},o[18]];let i={};for(let l=0;l<n.length;l+=1)i=Te(i,n[l]);return e=new fi({props:i}),e.$on("error",o[19]),{c(){U(e.$$.fragment)},l(l){R(e.$$.fragment,l)},m(l,a){H(e,l,a),t=!0},p(l,a){const r=a&307228?Wt(n,[a&32768&&{data:l[15]},a&4&&{geoJsonUrl:l[2]},a&8&&{geoId:l[3]},a&16&&{areaCol:l[4]},a&4096&&{legendType:l[12]},a&0&&{chartType:Ge},a&8192&&{legend:l[13]},a&262144&&qt(l[18])]):{};e.$set(r)},i(l){t||(E(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){G(e,l)}}}function pi(o){let e,t;return e=new bi({props:{data:o[15],startingLat:o[5],startingLong:o[6],startingZoom:o[7],height:o[8],basemap:o[9],title:o[10],legendPosition:o[11],chartType:Ge,isInitial:o[17],emptySet:o[0],emptyMessage:o[1],error:o[16],attribution:o[14],$$slots:{default:[ki,({data:n})=>({15:n}),({data:n})=>n?32768:0]},$$scope:{ctx:o}}}),{c(){U(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p(n,[i]){const l={};i&32768&&(l.data=n[15]),i&32&&(l.startingLat=n[5]),i&64&&(l.startingLong=n[6]),i&128&&(l.startingZoom=n[7]),i&256&&(l.height=n[8]),i&512&&(l.basemap=n[9]),i&1024&&(l.title=n[10]),i&2048&&(l.legendPosition=n[11]),i&131072&&(l.isInitial=n[17]),i&1&&(l.emptySet=n[0]),i&2&&(l.emptyMessage=n[1]),i&65536&&(l.error=n[16]),i&16384&&(l.attribution=n[14]),i&2469916&&(l.$$scope={dirty:i,ctx:n}),e.$set(l)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}const Ge="Area Map";function yi(o,e,t){let n;const i=["emptySet","emptyMessage","data","geoJsonUrl","geoId","areaCol","startingLat","startingLong","startingZoom","height","basemap","title","legendPosition","legendType","legend","attribution"];let l=Oe(e,i),{emptySet:a=void 0}=e,{emptyMessage:r=void 0}=e,s,{data:u}=e;u||(s="data is required");let{geoJsonUrl:f="https://evd-geojson.b-cdn.net/ca_california_zip_codes_geo_1.min.json"}=e,{geoId:m=void 0}=e;m||(s="geoId is required. This is the name of the field in your geoJSON file which identifies the area/feature");let{areaCol:d=void 0}=e;d||(s="areaCol is required. This is the name of the column in your query result which contains the identifier for the area you want to map");let{startingLat:h=void 0}=e,{startingLong:c=void 0}=e,{startingZoom:g=void 0}=e,{height:y=300}=e,{basemap:_=void 0}=e,{title:p=void 0}=e,{legendPosition:T="bottomLeft"}=e,{legendType:w=void 0}=e,{legend:L=!0}=e,{attribution:V=void 0}=e;const W=Je.isQuery(u)?u.hash:void 0,B=I=>t(16,s=I.detail);return o.$$set=I=>{e=Te(Te({},e),Bt(I)),t(18,l=Oe(e,i)),"emptySet"in I&&t(0,a=I.emptySet),"emptyMessage"in I&&t(1,r=I.emptyMessage),"data"in I&&t(15,u=I.data),"geoJsonUrl"in I&&t(2,f=I.geoJsonUrl),"geoId"in I&&t(3,m=I.geoId),"areaCol"in I&&t(4,d=I.areaCol),"startingLat"in I&&t(5,h=I.startingLat),"startingLong"in I&&t(6,c=I.startingLong),"startingZoom"in I&&t(7,g=I.startingZoom),"height"in I&&t(8,y=I.height),"basemap"in I&&t(9,_=I.basemap),"title"in I&&t(10,p=I.title),"legendPosition"in I&&t(11,T=I.legendPosition),"legendType"in I&&t(12,w=I.legendType),"legend"in I&&t(13,L=I.legend),"attribution"in I&&t(14,V=I.attribution)},o.$$.update=()=>{o.$$.dirty&32768&&t(17,n=(u==null?void 0:u.hash)===W)},[a,r,f,m,d,h,c,g,y,_,p,T,w,L,V,u,s,n,l,B]}class vi extends re{constructor(e){super(),se(this,e,yi,pi,ae,{emptySet:0,emptyMessage:1,data:15,geoJsonUrl:2,geoId:3,areaCol:4,startingLat:5,startingLong:6,startingZoom:7,height:8,basemap:9,title:10,legendPosition:11,legendType:12,legend:13,attribution:14})}}function wi(o){let e,t=F.title+"",n;return{c(){e=A("h1"),n=ie(t),this.h()},l(i){e=N(i,"H1",{class:!0});var l=O(e);n=le(l,t),l.forEach(k),this.h()},h(){v(e,"class","title")},m(i,l){M(i,e,l),S(e,n)},p:Z,d(i){i&&k(e)}}}function Li(o){return{c(){this.h()},l(e){this.h()},h(){document.title="Evidence"},m:Z,p:Z,d:Z}}function Ti(o){let e,t,n,i,l;return document.title=e=F.title,{c(){t=j(),n=A("meta"),i=j(),l=A("meta"),this.h()},l(a){t=z(a),n=N(a,"META",{property:!0,content:!0}),i=z(a),l=N(a,"META",{name:!0,content:!0}),this.h()},h(){var a,r;v(n,"property","og:title"),v(n,"content",((a=F.og)==null?void 0:a.title)??F.title),v(l,"name","twitter:title"),v(l,"content",((r=F.og)==null?void 0:r.title)??F.title)},m(a,r){M(a,t,r),M(a,n,r),M(a,i,r),M(a,l,r)},p(a,r){r&0&&e!==(e=F.title)&&(document.title=e)},d(a){a&&(k(t),k(n),k(i),k(l))}}}function Ci(o){var l,a;let e,t,n=(F.description||((l=F.og)==null?void 0:l.description))&&Ei(),i=((a=F.og)==null?void 0:a.image)&&Si();return{c(){n&&n.c(),e=j(),i&&i.c(),t=q()},l(r){n&&n.l(r),e=z(r),i&&i.l(r),t=q()},m(r,s){n&&n.m(r,s),M(r,e,s),i&&i.m(r,s),M(r,t,s)},p(r,s){var u,f;(F.description||(u=F.og)!=null&&u.description)&&n.p(r,s),(f=F.og)!=null&&f.image&&i.p(r,s)},d(r){r&&(k(e),k(t)),n&&n.d(r),i&&i.d(r)}}}function Ei(o){let e,t,n,i,l;return{c(){e=A("meta"),t=j(),n=A("meta"),i=j(),l=A("meta"),this.h()},l(a){e=N(a,"META",{name:!0,content:!0}),t=z(a),n=N(a,"META",{property:!0,content:!0}),i=z(a),l=N(a,"META",{name:!0,content:!0}),this.h()},h(){var a,r,s;v(e,"name","description"),v(e,"content",F.description??((a=F.og)==null?void 0:a.description)),v(n,"property","og:description"),v(n,"content",((r=F.og)==null?void 0:r.description)??F.description),v(l,"name","twitter:description"),v(l,"content",((s=F.og)==null?void 0:s.description)??F.description)},m(a,r){M(a,e,r),M(a,t,r),M(a,n,r),M(a,i,r),M(a,l,r)},p:Z,d(a){a&&(k(e),k(t),k(n),k(i),k(l))}}}function Si(o){let e,t,n;return{c(){e=A("meta"),t=j(),n=A("meta"),this.h()},l(i){e=N(i,"META",{property:!0,content:!0}),t=z(i),n=N(i,"META",{name:!0,content:!0}),this.h()},h(){var i,l;v(e,"property","og:image"),v(e,"content",dt((i=F.og)==null?void 0:i.image)),v(n,"name","twitter:image"),v(n,"content",dt((l=F.og)==null?void 0:l.image))},m(i,l){M(i,e,l),M(i,t,l),M(i,n,l)},p:Z,d(i){i&&(k(e),k(t),k(n))}}}function Ii(o){let e,t;return e=new wn({props:{value:"%",valueLabel:"All Ford Fields"}}),{c(){U(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p:Z,i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Dt(o){let e,t;return e=new Jt({props:{queryID:"clanky_v_okresech",queryResult:o[0]}}),{c(){U(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p(n,i){const l={};i&1&&(l.queryResult=n[0]),e.$set(l)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Mt(o){let e,t;return e=new Jt({props:{queryID:"ford",queryResult:o[1]}}),{c(){U(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p(n,i){const l={};i&2&&(l.queryResult=n[1]),e.$set(l)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Pi(o){let e,t,n,i,l,a,r,s,u,f,m,d,h=typeof F<"u"&&F.title&&F.hide_title!==!0&&wi();function c(w,L){return typeof F<"u"&&F.title?Ti:Li}let y=c()(o),_=typeof F=="object"&&Ci();a=new vn({props:{title:"FORD:",data:o[1],name:"ford_picker",value:"name",$$slots:{default:[Ii]},$$scope:{ctx:o}}}),s=new vi({props:{data:o[0],geoJsonUrl:"/rvvi/okresy.json",areaCol:"KODOKRESU",geoId:"nationalCode",startingLat:"49.8",startingLong:"15.4",startingZoom:"7",height:"400",value:"article_count"}});let p=o[0]&&Dt(o),T=o[1]&&Mt(o);return{c(){h&&h.c(),e=j(),y.c(),t=A("meta"),n=A("meta"),_&&_.c(),i=q(),l=j(),U(a.$$.fragment),r=j(),U(s.$$.fragment),u=j(),p&&p.c(),f=j(),T&&T.c(),m=q(),this.h()},l(w){h&&h.l(w),e=z(w);const L=an("svelte-6lktun",document.head);y.l(L),t=N(L,"META",{name:!0,content:!0}),n=N(L,"META",{name:!0,content:!0}),_&&_.l(L),i=q(),L.forEach(k),l=z(w),R(a.$$.fragment,w),r=z(w),R(s.$$.fragment,w),u=z(w),p&&p.l(w),f=z(w),T&&T.l(w),m=q(),this.h()},h(){v(t,"name","twitter:card"),v(t,"content","summary"),v(n,"name","twitter:site"),v(n,"content","@evidence_dev")},m(w,L){h&&h.m(w,L),M(w,e,L),y.m(document.head,null),S(document.head,t),S(document.head,n),_&&_.m(document.head,null),S(document.head,i),M(w,l,L),H(a,w,L),M(w,r,L),H(s,w,L),M(w,u,L),p&&p.m(w,L),M(w,f,L),T&&T.m(w,L),M(w,m,L),d=!0},p(w,[L]){typeof F<"u"&&F.title&&F.hide_title!==!0&&h.p(w,L),y.p(w,L),typeof F=="object"&&_.p(w,L);const V={};L&2&&(V.data=w[1]),L&16777216&&(V.$$scope={dirty:L,ctx:w}),a.$set(V);const W={};L&1&&(W.data=w[0]),s.$set(W),w[0]?p?(p.p(w,L),L&1&&E(p,1)):(p=Dt(w),p.c(),E(p,1),p.m(f.parentNode,f)):p&&($(),D(p,1,1,()=>{p=null}),ee()),w[1]?T?(T.p(w,L),L&2&&E(T,1)):(T=Mt(w),T.c(),E(T,1),T.m(m.parentNode,m)):T&&($(),D(T,1,1,()=>{T=null}),ee())},i(w){d||(E(a.$$.fragment,w),E(s.$$.fragment,w),E(p),E(T),d=!0)},o(w){D(a.$$.fragment,w),D(s.$$.fragment,w),D(p),D(T),d=!1},d(w){w&&(k(e),k(l),k(r),k(u),k(f),k(m)),h&&h.d(w),y.d(w),k(t),k(n),_&&_.d(w),k(i),G(a,w),G(s,w),p&&p.d(w),T&&T.d(w)}}}const F={title:"Počet článků dle okresu"};function Di(o,e,t){let n,i;ye(o,Ln,B=>t(12,n=B)),ye(o,ht,B=>t(18,i=B));let{data:l}=e,{data:a={},customFormattingSettings:r,__db:s,inputs:u}=l;qe(ht,i="c22993728eae9502bb5a862fb109eab9",i);let f=Cn(Ee(u));rn(f.subscribe(B=>u=B)),Nt(yn,{getCustomFormats:()=>r.customFormats||[]});const m=(B,I)=>En(s.query,B,{query_name:I});kn(m),n.params,Ke(()=>!0);let d={initialData:void 0,initialError:void 0},h=Ze`select kodokresu, sum(aid_count) article_count
from psc.psc
join rvvi.article_core i on i.postal_code = psc.psc
group by kodokresu`,c=`select kodokresu, sum(aid_count) article_count
from psc.psc
join rvvi.article_core i on i.postal_code = psc.psc
group by kodokresu`;a.clanky_v_okresech_data&&(a.clanky_v_okresech_data instanceof Error?d.initialError=a.clanky_v_okresech_data:d.initialData=a.clanky_v_okresech_data,a.clanky_v_okresech_columns&&(d.knownColumns=a.clanky_v_okresech_columns));let g,y=!1;const _=Je.createReactive({callback:B=>{t(0,g=B)},execFn:m},{id:"clanky_v_okresech",...d});_(c,{noResolve:h,...d}),globalThis[Symbol.for("clanky_v_okresech")]={get value(){return g}};let p={initialData:void 0,initialError:void 0},T=Ze`select name
from rvvi.field_ford`,w=`select name
from rvvi.field_ford`;a.ford_data&&(a.ford_data instanceof Error?p.initialError=a.ford_data:p.initialData=a.ford_data,a.ford_columns&&(p.knownColumns=a.ford_columns));let L,V=!1;const W=Je.createReactive({callback:B=>{t(1,L=B)},execFn:m},{id:"ford",...p});return W(w,{noResolve:T,...p}),globalThis[Symbol.for("ford")]={get value(){return L}},o.$$set=B=>{"data"in B&&t(2,l=B.data)},o.$$.update=()=>{o.$$.dirty&4&&t(3,{data:a={},customFormattingSettings:r,__db:s}=l,a),o.$$.dirty&8&&pn.set(Object.keys(a).length>0),o.$$.dirty&4096&&n.params,o.$$.dirty&240&&(h||!y?h||(_(c,{noResolve:h,...d}),t(7,y=!0)):_(c,{noResolve:h})),o.$$.dirty&3840&&(T||!V?T||(W(w,{noResolve:T,...p}),t(11,V=!0)):W(w,{noResolve:T}))},t(5,h=Ze`select kodokresu, sum(aid_count) article_count
from psc.psc
join rvvi.article_core i on i.postal_code = psc.psc
group by kodokresu`),t(6,c=`select kodokresu, sum(aid_count) article_count
from psc.psc
join rvvi.article_core i on i.postal_code = psc.psc
group by kodokresu`),t(9,T=Ze`select name
from rvvi.field_ford`),t(10,w=`select name
from rvvi.field_ford`),[g,L,l,a,d,h,c,y,p,T,w,V,n]}class qi extends re{constructor(e){super(),se(this,e,Di,Pi,ae,{data:2})}}export{qi as component};
