import{s as Y,e as A,t as me,d as C,r as j,u as be,f as b,i as w,X as ne,j as y,k as L,B as Te,I as Ee,q as N,G as Re,z as W,a as E,c as R,D as Z,E as x,F as ee,_ as Ae,l as V,p as te,m as F,n as pe,b as H,Q as Ce,o as ge,h as Qe}from"../chunks/scheduler.C9EcQ0XW.js";import{S as z,i as J,t as v,g as G,d as X,b as $,c as q,a as S,m as O,e as M}from"../chunks/index.BaFYQsWh.js";import{j as ie,q as De,s as Fe,Q as re,p as qe,a as ae,r as le,C as Se}from"../chunks/VennDiagram.svelte_svelte_type_style_lang.DLV2xppN.js";import{w as he}from"../chunks/entry.DMV2mXbd.js";import{h as K}from"../chunks/button.C7gGWbRa.js";import{D as Oe,a as Me,Q as ke}from"../chunks/QueryViewer.RxxmNZ1v.js";import{p as Be}from"../chunks/stores.CgLPkCfT.js";import{B as ye}from"../chunks/BarChart.D-RUE70_.js";import{e as Ne,p as He}from"../chunks/profile.COOguMbr.js";function Le(l){let t,r,e,n,i;return{c(){t=A("button"),r=me(l[1]),this.h()},l(a){t=C(a,"BUTTON",{class:!0});var o=j(t);r=be(o,l[1]),o.forEach(b),this.h()},h(){w(t,"class",e="mt-2 p-2 rounded-t flex-1 text-sm font-sans whitespace-nowrap transition ease-in duration-200 active:bg-gray-100 "+(l[2]===l[0]?l[3].active:l[3].notActive)),ne(t,"--bgColor",l[4]),ne(t,"--borderColor",l[5])},m(a,o){y(a,t,o),L(t,r),n||(i=Te(t,"click",l[7]),n=!0)},p(a,[o]){o&2&&Ee(r,a[1]),o&5&&e!==(e="mt-2 p-2 rounded-t flex-1 text-sm font-sans whitespace-nowrap transition ease-in duration-200 active:bg-gray-100 "+(a[2]===a[0]?a[3].active:a[3].notActive))&&w(t,"class",e)},i:N,o:N,d(a){a&&b(t),n=!1,i()}}}function ve(l){return/^#([0-9A-Fa-f]{3}|[0-9A-Fa-f]{6})$/i.test(l)}function we(l){return/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i.test(l)}function $e(l){return/^hsl\(\s*(\d{1,3}%)\s*,\s*(\d{1,3}%)\s*,\s*(\d{1,3}%)\s*\)$/i.test(l)}function oe(l){return ve(l)||we(l)||$e(l)}function Pe(l){if(ve(l))return l+"1a";if(we(l)||$e(l))return l.replace(/(\)|\s|$)/,", 0.1$1")}function Ue(l,t,r){let{color:e="hsla(207, 65%, 39%, 1)"}=t,{id:n}=t,{label:i}=t,{activeId:a}=t;const o={notActive:"border-gray-100 text-gray-600 border-b-2 bg-gray-50 border-b-gray-200 hover:text-gray-800 hover:bg-gray-200 hover:border-b-gray-400",active:"text-black border-b-2 border-[--borderColor] bg-[--bgColor]"};e=e.replace(/\s+/g,"");const u=oe(e)?Pe(e):"hsla(207, 65%, 39%, 0.1)",g=oe(e)?e:"hsla(207, 65%, 39%, 1)";function _(s){Re.call(this,l,s)}return l.$$set=s=>{"color"in s&&r(6,e=s.color),"id"in s&&r(0,n=s.id),"label"in s&&r(1,i=s.label),"activeId"in s&&r(2,a=s.activeId)},[n,i,a,o,u,g,e,_]}class je extends z{constructor(t){super(),J(this,t,Ue,Le,Y,{color:6,id:0,label:1,activeId:2})}}function se(l,t,r){const e=l.slice();return e[8]=t[r],e}function Ke(l){let t,r;const e=l[5].default,n=W(e,l,l[7],null);return{c(){n&&n.c(),t=E()},l(i){n&&n.l(i),t=R(i)},m(i,a){n&&n.m(i,a),y(i,t,a),r=!0},p(i,a){n&&n.p&&(!r||a&128)&&Z(n,e,i,i[7],r?ee(e,i[7],a,null):x(i[7]),null)},i(i){r||(v(n,i),r=!0)},o(i){$(n,i),r=!1},d(i){i&&b(t),n&&n.d(i)}}}function ce(l){let t,r;function e(){return l[6](l[8])}return t=new je({props:{id:l[8].id,label:l[8].label,color:l[0],activeId:l[1].activeId,$$slots:{default:[Ke]},$$scope:{ctx:l}}}),t.$on("click",e),{c(){q(t.$$.fragment)},l(n){S(t.$$.fragment,n)},m(n,i){O(t,n,i),r=!0},p(n,i){l=n;const a={};i&2&&(a.id=l[8].id),i&2&&(a.label=l[8].label),i&1&&(a.color=l[0]),i&2&&(a.activeId=l[1].activeId),i&128&&(a.$$scope={dirty:i,ctx:l}),t.$set(a)},i(n){r||(v(t.$$.fragment,n),r=!0)},o(n){$(t.$$.fragment,n),r=!1},d(n){M(t,n)}}}function Ve(l){let t,r,e,n,i,a=ie(l[1].tabs),o=[];for(let s=0;s<a.length;s+=1)o[s]=ce(se(l,a,s));const u=s=>$(o[s],1,1,()=>{o[s]=null}),g=l[5].default,_=W(g,l,l[7],null);return{c(){t=A("section"),r=A("nav");for(let s=0;s<o.length;s+=1)o[s].c();e=E(),n=A("div"),_&&_.c(),this.h()},l(s){t=C(s,"SECTION",{});var c=j(t);r=C(c,"NAV",{class:!0});var d=j(r);for(let D=0;D<o.length;D+=1)o[D].l(d);d.forEach(b),e=R(c),n=C(c,"DIV",{class:!0});var I=j(n);_&&_.l(I),I.forEach(b),c.forEach(b),this.h()},h(){w(r,"class","my-6 flex flex-wrap gap-x-1 gap-y-1"),w(n,"class","text-base")},m(s,c){y(s,t,c),L(t,r);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(r,null);L(t,e),L(t,n),_&&_.m(n,null),i=!0},p(s,[c]){if(c&139){a=ie(s[1].tabs);let d;for(d=0;d<a.length;d+=1){const I=se(s,a,d);o[d]?(o[d].p(I,c),v(o[d],1)):(o[d]=ce(I),o[d].c(),v(o[d],1),o[d].m(r,null))}for(G(),d=a.length;d<o.length;d+=1)u(d);X()}_&&_.p&&(!i||c&128)&&Z(_,g,s,s[7],i?ee(g,s[7],c,null):x(s[7]),null)},i(s){if(!i){for(let c=0;c<a.length;c+=1)v(o[c]);v(_,s),i=!0}},o(s){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)$(o[c]);$(_,s),i=!1},d(s){s&&b(t),Ae(o,s),_&&_.d(s)}}}function Ge(l,t,r){let e,{$$slots:n={},$$scope:i}=t,{id:a}=t,{color:o="hsla(207, 65%, 39%, 1)"}=t;const u=he({tabs:[],activeId:null});V(l,u,s=>r(1,e=s)),te(()=>{var d,I;const c=new URL(window.location.href).searchParams.get(a);c?e.tabs.find(D=>D.id===c)?F(u,e.activeId=c,e):F(u,e.activeId=(d=e.tabs[0])==null?void 0:d.id,e):F(u,e.activeId=(I=e.tabs[0])==null?void 0:I.id,e)}),pe("TABS_STORE",u);const g=s=>{F(u,e.activeId=s,e)},_=s=>g(s.id);return l.$$set=s=>{"id"in s&&r(4,a=s.id),"color"in s&&r(0,o=s.color),"$$scope"in s&&r(7,i=s.$$scope)},l.$$.update=()=>{var s;if(l.$$.dirty&18&&!e.activeId&&e.tabs.length&&!a&&F(u,e.activeId=e.tabs[0].id,e),l.$$.dirty&18&&!e.tabs.find(c=>c.id===e.activeId)&&!a&&F(u,e.activeId=(s=e.tabs[0])==null?void 0:s.id,e),l.$$.dirty&18&&e.activeId&&a){const c=new URL(window.location.href);c.searchParams.set(a,e.activeId),history.replaceState({},"",c)}},[o,e,u,g,a,n,_,i]}class Xe extends z{constructor(t){super(),J(this,t,Ge,Ve,Y,{id:4,color:0})}}function fe(l){let t;const r=l[5].default,e=W(r,l,l[4],null);return{c(){e&&e.c()},l(n){e&&e.l(n)},m(n,i){e&&e.m(n,i),t=!0},p(n,i){e&&e.p&&(!t||i&16)&&Z(e,r,n,n[4],t?ee(r,n[4],i,null):x(n[4]),null)},i(n){t||(v(e,n),t=!0)},o(n){$(e,n),t=!1},d(n){e&&e.d(n)}}}function Ye(l){let t,r,e=l[0]&&fe(l);return{c(){e&&e.c(),t=H()},l(n){e&&e.l(n),t=H()},m(n,i){e&&e.m(n,i),y(n,t,i),r=!0},p(n,[i]){n[0]?e?(e.p(n,i),i&1&&v(e,1)):(e=fe(n),e.c(),v(e,1),e.m(t.parentNode,t)):e&&(G(),$(e,1,1,()=>{e=null}),X())},i(n){r||(v(e),r=!0)},o(n){$(e),r=!1},d(n){n&&b(t),e&&e.d(n)}}}function ze(l,t,r){let e,{$$slots:n={},$$scope:i}=t,{label:a}=t,{id:o}=t,{selected:u}=t;const g=De(),_=Ce("TABS_STORE");V(l,_,c=>r(6,e=c));const s=()=>{F(_,e.tabs=[...e.tabs.filter(c=>c.internalId!==g),{internalId:g,id:o,label:a}],e),u&&F(_,e.activeId=o,e)};return te(()=>_.subscribe(({activeId:c})=>{r(0,u=c===o)})),ge(()=>{F(_,e.tabs=e.tabs.filter(c=>c.internalId!==g),e)}),l.$$set=c=>{"label"in c&&r(3,a=c.label),"id"in c&&r(2,o=c.id),"selected"in c&&r(0,u=c.selected),"$$scope"in c&&r(4,i=c.$$scope)},l.$$.update=()=>{l.$$.dirty&12&&r(2,o=o??a),l.$$.dirty&12&&o&&a&&s()},[u,_,o,a,i,n]}class ue extends z{constructor(t){super(),J(this,t,ze,Ye,Y,{label:3,id:2,selected:0})}}function Je(l){let t,r=p.title+"",e;return{c(){t=A("h1"),e=me(r),this.h()},l(n){t=C(n,"H1",{class:!0});var i=j(t);e=be(i,r),i.forEach(b),this.h()},h(){w(t,"class","title")},m(n,i){y(n,t,i),L(t,e)},p:N,d(n){n&&b(t)}}}function We(l){return{c(){this.h()},l(t){this.h()},h(){document.title="Evidence"},m:N,p:N,d:N}}function Ze(l){let t,r,e,n,i;return document.title=t=p.title,{c(){r=E(),e=A("meta"),n=E(),i=A("meta"),this.h()},l(a){r=R(a),e=C(a,"META",{property:!0,content:!0}),n=R(a),i=C(a,"META",{name:!0,content:!0}),this.h()},h(){var a,o;w(e,"property","og:title"),w(e,"content",((a=p.og)==null?void 0:a.title)??p.title),w(i,"name","twitter:title"),w(i,"content",((o=p.og)==null?void 0:o.title)??p.title)},m(a,o){y(a,r,o),y(a,e,o),y(a,n,o),y(a,i,o)},p(a,o){o&0&&t!==(t=p.title)&&(document.title=t)},d(a){a&&(b(r),b(e),b(n),b(i))}}}function xe(l){var i,a;let t,r,e=(p.description||((i=p.og)==null?void 0:i.description))&&et(),n=((a=p.og)==null?void 0:a.image)&&tt();return{c(){e&&e.c(),t=E(),n&&n.c(),r=H()},l(o){e&&e.l(o),t=R(o),n&&n.l(o),r=H()},m(o,u){e&&e.m(o,u),y(o,t,u),n&&n.m(o,u),y(o,r,u)},p(o,u){var g,_;(p.description||(g=p.og)!=null&&g.description)&&e.p(o,u),(_=p.og)!=null&&_.image&&n.p(o,u)},d(o){o&&(b(t),b(r)),e&&e.d(o),n&&n.d(o)}}}function et(l){let t,r,e,n,i;return{c(){t=A("meta"),r=E(),e=A("meta"),n=E(),i=A("meta"),this.h()},l(a){t=C(a,"META",{name:!0,content:!0}),r=R(a),e=C(a,"META",{property:!0,content:!0}),n=R(a),i=C(a,"META",{name:!0,content:!0}),this.h()},h(){var a,o,u;w(t,"name","description"),w(t,"content",p.description??((a=p.og)==null?void 0:a.description)),w(e,"property","og:description"),w(e,"content",((o=p.og)==null?void 0:o.description)??p.description),w(i,"name","twitter:description"),w(i,"content",((u=p.og)==null?void 0:u.description)??p.description)},m(a,o){y(a,t,o),y(a,r,o),y(a,e,o),y(a,n,o),y(a,i,o)},p:N,d(a){a&&(b(t),b(r),b(e),b(n),b(i))}}}function tt(l){let t,r,e;return{c(){t=A("meta"),r=E(),e=A("meta"),this.h()},l(n){t=C(n,"META",{property:!0,content:!0}),r=R(n),e=C(n,"META",{name:!0,content:!0}),this.h()},h(){var n,i;w(t,"property","og:image"),w(t,"content",ae((n=p.og)==null?void 0:n.image)),w(e,"name","twitter:image"),w(e,"content",ae((i=p.og)==null?void 0:i.image))},m(n,i){y(n,t,i),y(n,r,i),y(n,e,i)},p:N,d(n){n&&(b(t),b(r),b(e))}}}function nt(l){let t,r;return t=new Me({props:{value:"%",valueLabel:"All Ford Fields"}}),{c(){q(t.$$.fragment)},l(e){S(t.$$.fragment,e)},m(e,n){O(t,e,n),r=!0},p:N,i(e){r||(v(t.$$.fragment,e),r=!0)},o(e){$(t.$$.fragment,e),r=!1},d(e){M(t,e)}}}function it(l){let t,r;return t=new ye({props:{data:l[1],title:"Články dle instituce a ranking",x:"name",y:"ranking_cnt",series:"ranking",seriesOrder:["decil","Q1","Q2","Q3","Q4"],swapXY:"true",sort:"false"}}),{c(){q(t.$$.fragment)},l(e){S(t.$$.fragment,e)},m(e,n){O(t,e,n),r=!0},p(e,n){const i={};n&2&&(i.data=e[1]),t.$set(i)},i(e){r||(v(t.$$.fragment,e),r=!0)},o(e){$(t.$$.fragment,e),r=!1},d(e){M(t,e)}}}function rt(l){let t,r;return t=new ye({props:{data:l[1],title:"Počet článků dle instituce",x:"name",y:"ranking_cnt",series:"ranking",seriesOrder:["decil","Q1","Q2","Q3","Q4"],type:"stacked100",swapXY:"true",sort:"false"}}),{c(){q(t.$$.fragment)},l(e){S(t.$$.fragment,e)},m(e,n){O(t,e,n),r=!0},p(e,n){const i={};n&2&&(i.data=e[1]),t.$set(i)},i(e){r||(v(t.$$.fragment,e),r=!0)},o(e){$(t.$$.fragment,e),r=!1},d(e){M(t,e)}}}function at(l){let t,r,e,n;return t=new ue({props:{label:"Absolutní počty článků",$$slots:{default:[it]},$$scope:{ctx:l}}}),e=new ue({props:{label:"Poměry počtů článků dle ranking",$$slots:{default:[rt]},$$scope:{ctx:l}}}),{c(){q(t.$$.fragment),r=E(),q(e.$$.fragment)},l(i){S(t.$$.fragment,i),r=R(i),S(e.$$.fragment,i)},m(i,a){O(t,i,a),y(i,r,a),O(e,i,a),n=!0},p(i,a){const o={};a&16777218&&(o.$$scope={dirty:a,ctx:i}),t.$set(o);const u={};a&16777218&&(u.$$scope={dirty:a,ctx:i}),e.$set(u)},i(i){n||(v(t.$$.fragment,i),v(e.$$.fragment,i),n=!0)},o(i){$(t.$$.fragment,i),$(e.$$.fragment,i),n=!1},d(i){i&&b(r),M(t,i),M(e,i)}}}function de(l){let t,r;return t=new ke({props:{queryID:"ford",queryResult:l[0]}}),{c(){q(t.$$.fragment)},l(e){S(t.$$.fragment,e)},m(e,n){O(t,e,n),r=!0},p(e,n){const i={};n&1&&(i.queryResult=e[0]),t.$set(i)},i(e){r||(v(t.$$.fragment,e),r=!0)},o(e){$(t.$$.fragment,e),r=!1},d(e){M(t,e)}}}function _e(l){let t,r;return t=new ke({props:{queryID:"articles_by_institution",queryResult:l[1]}}),{c(){q(t.$$.fragment)},l(e){S(t.$$.fragment,e)},m(e,n){O(t,e,n),r=!0},p(e,n){const i={};n&2&&(i.queryResult=e[1]),t.$set(i)},i(e){r||(v(t.$$.fragment,e),r=!0)},o(e){$(t.$$.fragment,e),r=!1},d(e){M(t,e)}}}function lt(l){let t,r,e,n,i,a,o,u,g,_,s,c,d=typeof p<"u"&&p.title&&p.hide_title!==!0&&Je();function I(f,m){return typeof p<"u"&&p.title?Ze:We}let B=I()(l),Q=typeof p=="object"&&xe();a=new Oe({props:{title:"FORD:",data:l[0],name:"ford_picker",value:"name",$$slots:{default:[nt]},$$scope:{ctx:l}}}),u=new Xe({props:{$$slots:{default:[at]},$$scope:{ctx:l}}});let h=l[0]&&de(l),k=l[1]&&_e(l);return{c(){d&&d.c(),t=E(),B.c(),r=A("meta"),e=A("meta"),Q&&Q.c(),n=H(),i=E(),q(a.$$.fragment),o=E(),q(u.$$.fragment),g=E(),h&&h.c(),_=E(),k&&k.c(),s=H(),this.h()},l(f){d&&d.l(f),t=R(f);const m=Qe("svelte-6lktun",document.head);B.l(m),r=C(m,"META",{name:!0,content:!0}),e=C(m,"META",{name:!0,content:!0}),Q&&Q.l(m),n=H(),m.forEach(b),i=R(f),S(a.$$.fragment,f),o=R(f),S(u.$$.fragment,f),g=R(f),h&&h.l(f),_=R(f),k&&k.l(f),s=H(),this.h()},h(){w(r,"name","twitter:card"),w(r,"content","summary"),w(e,"name","twitter:site"),w(e,"content","@evidence_dev")},m(f,m){d&&d.m(f,m),y(f,t,m),B.m(document.head,null),L(document.head,r),L(document.head,e),Q&&Q.m(document.head,null),L(document.head,n),y(f,i,m),O(a,f,m),y(f,o,m),O(u,f,m),y(f,g,m),h&&h.m(f,m),y(f,_,m),k&&k.m(f,m),y(f,s,m),c=!0},p(f,[m]){typeof p<"u"&&p.title&&p.hide_title!==!0&&d.p(f,m),B.p(f,m),typeof p=="object"&&Q.p(f,m);const P={};m&1&&(P.data=f[0]),m&16777216&&(P.$$scope={dirty:m,ctx:f}),a.$set(P);const U={};m&16777218&&(U.$$scope={dirty:m,ctx:f}),u.$set(U),f[0]?h?(h.p(f,m),m&1&&v(h,1)):(h=de(f),h.c(),v(h,1),h.m(_.parentNode,_)):h&&(G(),$(h,1,1,()=>{h=null}),X()),f[1]?k?(k.p(f,m),m&2&&v(k,1)):(k=_e(f),k.c(),v(k,1),k.m(s.parentNode,s)):k&&(G(),$(k,1,1,()=>{k=null}),X())},i(f){c||(v(a.$$.fragment,f),v(u.$$.fragment,f),v(h),v(k),c=!0)},o(f){$(a.$$.fragment,f),$(u.$$.fragment,f),$(h),$(k),c=!1},d(f){f&&(b(t),b(i),b(o),b(g),b(_),b(s)),d&&d.d(f),B.d(f),b(r),b(e),Q&&Q.d(f),b(n),M(a,f),M(u,f),h&&h.d(f),k&&k.d(f)}}}const p={title:"Počet článků dle instituce"};function ot(l,t,r){let e,n;V(l,Be,T=>r(13,e=T)),V(l,le,T=>r(18,n=T));let{data:i}=t,{data:a={},customFormattingSettings:o,__db:u,inputs:g}=i;F(le,n="ec38abf78d1c57a73919b59d7650ce48",n);let _=Ne(he(g));ge(_.subscribe(T=>r(4,g=T))),pe(Se,{getCustomFormats:()=>o.customFormats||[]});const s=(T,Ie)=>He(u.query,T,{query_name:Ie});Fe(s),e.params,te(()=>!0);let c={initialData:void 0,initialError:void 0},d=K`select name
from rvvi.field_ford`,I=`select name
from rvvi.field_ford`;a.ford_data&&(a.ford_data instanceof Error?c.initialError=a.ford_data:c.initialData=a.ford_data,a.ford_columns&&(c.knownColumns=a.ford_columns));let D,B=!1;const Q=re.createReactive({callback:T=>{r(0,D=T)},execFn:s},{id:"ford",...c});Q(I,{noResolve:d,...c}),globalThis[Symbol.for("ford")]={get value(){return D}};let h={initialData:void 0,initialError:void 0},k=K`select concat(rnk, '. ', i_name) as name, *
from (
  select *,
    dense_rank() over (order by cnt desc) rnk
  from (
    select ac.iid, ac.i_name, ac.ranking, 
      sum(aid_count) ranking_cnt,
      sum(sum(case when ac.ranking = 'Decil' or ac.ranking = 'Q1' then aid_count end)) over (partition by ac.iid) cnt,
    from rvvi.article_core ac
    where ac.f_name LIKE '${g.ford_picker.value}'
    group by ac.iid, ac.i_name, ac.ranking 
  ) t
) t
where rnk <= 15 and cnt is not null and cnt > 0
order by rnk`,f=`select concat(rnk, '. ', i_name) as name, *
from (
  select *,
    dense_rank() over (order by cnt desc) rnk
  from (
    select ac.iid, ac.i_name, ac.ranking, 
      sum(aid_count) ranking_cnt,
      sum(sum(case when ac.ranking = 'Decil' or ac.ranking = 'Q1' then aid_count end)) over (partition by ac.iid) cnt,
    from rvvi.article_core ac
    where ac.f_name LIKE '${g.ford_picker.value}'
    group by ac.iid, ac.i_name, ac.ranking 
  ) t
) t
where rnk <= 15 and cnt is not null and cnt > 0
order by rnk`;a.articles_by_institution_data&&(a.articles_by_institution_data instanceof Error?h.initialError=a.articles_by_institution_data:h.initialData=a.articles_by_institution_data,a.articles_by_institution_columns&&(h.knownColumns=a.articles_by_institution_columns));let m,P=!1;const U=re.createReactive({callback:T=>{r(1,m=T)},execFn:s},{id:"articles_by_institution",...h});return U(f,{noResolve:k,...h}),globalThis[Symbol.for("articles_by_institution")]={get value(){return m}},l.$$set=T=>{"data"in T&&r(2,i=T.data)},l.$$.update=()=>{l.$$.dirty&4&&r(3,{data:a={},customFormattingSettings:o,__db:u}=i,a),l.$$.dirty&8&&qe.set(Object.keys(a).length>0),l.$$.dirty&8192&&e.params,l.$$.dirty&480&&(d||!B?d||(Q(I,{noResolve:d,...c}),r(8,B=!0)):Q(I,{noResolve:d})),l.$$.dirty&16&&r(10,k=K`select concat(rnk, '. ', i_name) as name, *
from (
  select *,
    dense_rank() over (order by cnt desc) rnk
  from (
    select ac.iid, ac.i_name, ac.ranking, 
      sum(aid_count) ranking_cnt,
      sum(sum(case when ac.ranking = 'Decil' or ac.ranking = 'Q1' then aid_count end)) over (partition by ac.iid) cnt,
    from rvvi.article_core ac
    where ac.f_name LIKE '${g.ford_picker.value}'
    group by ac.iid, ac.i_name, ac.ranking 
  ) t
) t
where rnk <= 15 and cnt is not null and cnt > 0
order by rnk`),l.$$.dirty&16&&r(11,f=`select concat(rnk, '. ', i_name) as name, *
from (
  select *,
    dense_rank() over (order by cnt desc) rnk
  from (
    select ac.iid, ac.i_name, ac.ranking, 
      sum(aid_count) ranking_cnt,
      sum(sum(case when ac.ranking = 'Decil' or ac.ranking = 'Q1' then aid_count end)) over (partition by ac.iid) cnt,
    from rvvi.article_core ac
    where ac.f_name LIKE '${g.ford_picker.value}'
    group by ac.iid, ac.i_name, ac.ranking 
  ) t
) t
where rnk <= 15 and cnt is not null and cnt > 0
order by rnk`),l.$$.dirty&7680&&(k||!P?k||(U(f,{noResolve:k,...h}),r(12,P=!0)):U(f,{noResolve:k}))},r(6,d=K`select name
from rvvi.field_ford`),r(7,I=`select name
from rvvi.field_ford`),[D,m,i,a,g,c,d,I,B,h,k,f,P,e]}class gt extends z{constructor(t){super(),J(this,t,ot,lt,Y,{data:2})}}export{gt as component};
